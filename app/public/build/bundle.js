var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(s)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,s){if(t){const i=a(t,e,n,s);return t[0](i)}}function a(t,e,s,i){return t[1]&&i?n(s.ctx.slice(),t[1](i(e))):s.ctx}function u(t,e,n,s,i,o,l){const r=function(t,e,n,s){if(t[2]&&s){const i=t[2](s(n));if(void 0===e.dirty)return i;if("object"==typeof i){const t=[],n=Math.max(e.dirty.length,i.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|i[s];return t}return e.dirty|i}return e.dirty}(e,s,i,o);if(r){const i=a(e,n,s,l);t.p(i,r)}}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){const n={};e=new Set(e);for(const s in t)e.has(s)||"$"===s[0]||(n[s]=t[s]);return n}const h="undefined"!=typeof window;let p=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const m=new Set;function $(t){m.forEach(e=>{e.c(t)||(m.delete(e),e.f())}),0!==m.size&&g($)}function v(t,e){t.appendChild(e)}function b(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function C(){return _(" ")}function S(){return _("")}function N(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function W(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function q(t,e){for(const n in e)W(t,n,e[n])}function I(t){return""===t?void 0:+t}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function B(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function j(t,e,n){t.classList[n?"add":"remove"](e)}function E(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const O=new Set;let P,D=0;function R(t,e,n,s,i,o,l,r=0){const c=16.666/s;let a="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*o(t);a+=100*t+`%{${l(s,1-s)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${r}`,f=t.ownerDocument;O.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(y("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?g+", ":""}${d} ${s}ms linear ${i}ms 1 both`,D+=1,d}function A(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-s.length;i&&(t.style.animation=s.join(", "),D-=i,D||g(()=>{D||(O.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),O.clear())}))}function T(t){P=t}function L(){if(!P)throw new Error("Function called outside component initialization");return P}function H(t){L().$$.on_mount.push(t)}function F(t){L().$$.on_destroy.push(t)}function U(){const t=L();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const i=E(e,n);s.slice().forEach(e=>{e.call(t,i)})}}}function Y(t,e){L().$$.context.set(t,e)}function G(t){return L().$$.context.get(t)}function V(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t(e))}const J=[],K=[],Z=[],X=[],Q=Promise.resolve();let tt=!1;function et(t){Z.push(t)}function nt(t){X.push(t)}let st=!1;const it=new Set;function ot(){if(!st){st=!0;do{for(let t=0;t<J.length;t+=1){const e=J[t];T(e),lt(e.$$)}for(J.length=0;K.length;)K.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];it.has(e)||(it.add(e),e())}Z.length=0}while(J.length);for(;X.length;)X.pop()();tt=!1,st=!1,it.clear()}}function lt(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}let rt;function ct(t,e,n){t.dispatchEvent(E(`${e?"intro":"outro"}${n}`))}const at=new Set;let ut;function dt(){ut={r:0,c:[],p:ut}}function ft(){ut.r||o(ut.c),ut=ut.p}function ht(t,e){t&&t.i&&(at.delete(t),t.i(e))}function pt(t,e,n,s){if(t&&t.o){if(at.has(t))return;at.add(t),ut.c.push(()=>{at.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}const gt={duration:0};function mt(n,s,i,r){let c=s(n,i),a=r?0:1,u=null,d=null,f=null;function h(){f&&A(n,f)}function v(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(s){const{delay:i=0,duration:l=300,easing:r=e,tick:b=t,css:w}=c||gt,x={start:p()+i,b:s};s||(x.group=ut,ut.r+=1),u?d=x:(w&&(h(),f=R(n,a,s,l,i,r,w)),s&&b(0,1),u=v(x,l),et(()=>ct(n,s,"start")),function(t){let e;0===m.size&&g($),new Promise(n=>{m.add(e={c:t,f:n})})}(t=>{if(d&&t>d.start&&(u=v(d,l),d=null,ct(n,u.b,"start"),w&&(h(),f=R(n,a,u.b,u.duration,0,r,c.css))),u)if(t>=u.end)b(a=u.b,1-a),ct(n,u.b,"end"),d||(u.b?h():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*r(e/u.duration),b(a,1-a)}return!(!u&&!d)}))}return{run(t){l(c)?(rt||(rt=Promise.resolve(),rt.then(()=>{rt=null})),rt).then(()=>{c=c(),b(t)}):b(t)},end(){h(),u=d=null}}}function $t(t,e){const n={},s={},i={$$scope:1};let o=t.length;for(;o--;){const l=t[o],r=e[o];if(r){for(const t in l)t in r||(s[t]=1);for(const t in r)i[t]||(n[t]=r[t],i[t]=1);t[o]=r}else for(const t in l)i[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}function vt(t){return"object"==typeof t&&null!==t?t:{}}function bt(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function wt(t){t&&t.c()}function xt(t,e,n){const{fragment:i,on_mount:r,on_destroy:c,after_update:a}=t.$$;i&&i.m(e,n),et(()=>{const e=r.map(s).filter(l);c?c.push(...e):o(e),t.$$.on_mount=[]}),a.forEach(et)}function yt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){-1===t.$$.dirty[0]&&(J.push(t),tt||(tt=!0,Q.then(ot)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _t(e,n,s,l,r,c,a=[-1]){const u=P;T(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:i(),dirty:a};let h=!1;if(f.ctx=s?s(e,d,(t,n,...s)=>{const i=s.length?s[0]:n;return f.ctx&&r(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),h&&kt(e,t)),n}):[],f.update(),h=!0,o(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&ht(e.$$.fragment),xt(e,n.target,n.anchor),ot()}T(u)}class Ct{$destroy(){yt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}class St extends Ct{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}function Nt(e){let s,i,o=[{key:i="path-"+e[0]},e[1]],l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return{c(){s=k("path"),q(s,l)},m(t,e){b(t,s,e)},p(t,[e]){q(s,l=$t(o,[1&e&&i!==(i="path-"+t[0])&&{key:i},2&e&&t[1]]))},i:t,o:t,d(t){t&&w(s)}}}function Wt(t,e,n){let{id:s=""}=e,{data:i={}}=e;return t.$set=t=>{"id"in t&&n(0,s=t.id),"data"in t&&n(1,i=t.data)},[s,i]}class qt extends Ct{constructor(t){super(),_t(this,t,Wt,Nt,r,{id:0,data:1})}}function It(e){let s,i,o=[{key:i="polygon-"+e[0]},e[1]],l={};for(let t=0;t<o.length;t+=1)l=n(l,o[t]);return{c(){s=k("polygon"),q(s,l)},m(t,e){b(t,s,e)},p(t,[e]){q(s,l=$t(o,[1&e&&i!==(i="polygon-"+t[0])&&{key:i},2&e&&t[1]]))},i:t,o:t,d(t){t&&w(s)}}}function zt(t,e,n){let{id:s=""}=e,{data:i={}}=e;return t.$set=t=>{"id"in t&&n(0,s=t.id),"data"in t&&n(1,i=t.data)},[s,i]}class Mt extends Ct{constructor(t){super(),_t(this,t,zt,It,r,{id:0,data:1})}}function Bt(e){let n;return{c(){n=k("g")},m(t,s){b(t,n,s),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&w(n)}}}function jt(t,e,n){let s,i=870711;let{data:o}=e;function l(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(t,e)=>{const s=(i+=1,"fa-"+i.toString(16));return n[e]=s,` id="${s}"`}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,e,s,i)=>{const o=e||i;return o&&n[o]?"#"+n[o]:t}),e}return t.$set=t=>{"data"in t&&n(1,o=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,s=l(o))},[s,o]}class Et extends Ct{constructor(t){super(),_t(this,t,jt,Bt,r,{data:1})}}function Ot(t){let e,n,s,i;const o=t[13].default,l=c(o,t,t[12],null);return{c(){e=k("svg"),l&&l.c(),W(e,"version","1.1"),W(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),W(e,"x",t[8]),W(e,"y",t[9]),W(e,"width",t[1]),W(e,"height",t[2]),W(e,"aria-label",t[11]),W(e,"role",s=t[11]?"img":"presentation"),W(e,"viewBox",t[3]),W(e,"style",t[10]),j(e,"fa-spin",t[4]),j(e,"fa-pulse",t[6]),j(e,"fa-inverse",t[5]),j(e,"fa-flip-horizontal","horizontal"===t[7]),j(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){b(t,e,n),l&&l.m(e,null),i=!0},p(t,[r]){l&&l.p&&4096&r&&u(l,o,t,t[12],r,null,null),(!i||1&r&&n!==(n="fa-icon "+t[0]+" svelte-1dof0an"))&&W(e,"class",n),(!i||256&r)&&W(e,"x",t[8]),(!i||512&r)&&W(e,"y",t[9]),(!i||2&r)&&W(e,"width",t[1]),(!i||4&r)&&W(e,"height",t[2]),(!i||2048&r)&&W(e,"aria-label",t[11]),(!i||2048&r&&s!==(s=t[11]?"img":"presentation"))&&W(e,"role",s),(!i||8&r)&&W(e,"viewBox",t[3]),(!i||1024&r)&&W(e,"style",t[10]),17&r&&j(e,"fa-spin",t[4]),65&r&&j(e,"fa-pulse",t[6]),33&r&&j(e,"fa-inverse",t[5]),129&r&&j(e,"fa-flip-horizontal","horizontal"===t[7]),129&r&&j(e,"fa-flip-vertical","vertical"===t[7])},i(t){i||(ht(l,t),i=!0)},o(t){pt(l,t),i=!1},d(t){t&&w(e),l&&l.d(t)}}}function Pt(t,e,n){let{class:s}=e,{width:i}=e,{height:o}=e,{box:l}=e,{spin:r=!1}=e,{inverse:c=!1}=e,{pulse:a=!1}=e,{flip:u=null}=e,{x:d}=e,{y:f}=e,{style:h}=e,{label:p}=e,{$$slots:g={},$$scope:m}=e;return t.$set=t=>{"class"in t&&n(0,s=t.class),"width"in t&&n(1,i=t.width),"height"in t&&n(2,o=t.height),"box"in t&&n(3,l=t.box),"spin"in t&&n(4,r=t.spin),"inverse"in t&&n(5,c=t.inverse),"pulse"in t&&n(6,a=t.pulse),"flip"in t&&n(7,u=t.flip),"x"in t&&n(8,d=t.x),"y"in t&&n(9,f=t.y),"style"in t&&n(10,h=t.style),"label"in t&&n(11,p=t.label),"$$scope"in t&&n(12,m=t.$$scope)},[s,i,o,l,r,c,a,u,d,f,h,p,m,g]}class Dt extends Ct{constructor(t){super(),_t(this,t,Pt,Ot,r,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function Rt(t,e,n){const s=t.slice();return s[24]=e[n],s[26]=n,s}function At(t,e,n){const s=t.slice();return s[27]=e[n],s[26]=n,s}function Tt(t){let e,n,s,i,o=t[0].paths&&Lt(t),l=t[0].polygons&&Ft(t),r=t[0].raw&&Yt(t);return{c(){o&&o.c(),e=C(),l&&l.c(),n=C(),r&&r.c(),s=S()},m(t,c){o&&o.m(t,c),b(t,e,c),l&&l.m(t,c),b(t,n,c),r&&r.m(t,c),b(t,s,c),i=!0},p(t,i){t[0].paths?o?(o.p(t,i),1&i&&ht(o,1)):(o=Lt(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(dt(),pt(o,1,1,()=>{o=null}),ft()),t[0].polygons?l?(l.p(t,i),1&i&&ht(l,1)):(l=Ft(t),l.c(),ht(l,1),l.m(n.parentNode,n)):l&&(dt(),pt(l,1,1,()=>{l=null}),ft()),t[0].raw?r?(r.p(t,i),1&i&&ht(r,1)):(r=Yt(t),r.c(),ht(r,1),r.m(s.parentNode,s)):r&&(dt(),pt(r,1,1,()=>{r=null}),ft())},i(t){i||(ht(o),ht(l),ht(r),i=!0)},o(t){pt(o),pt(l),pt(r),i=!1},d(t){o&&o.d(t),t&&w(e),l&&l.d(t),t&&w(n),r&&r.d(t),t&&w(s)}}}function Lt(t){let e,n,s=t[0].paths,i=[];for(let e=0;e<s.length;e+=1)i[e]=Ht(At(t,s,e));const o=t=>pt(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,s){for(let e=0;e<i.length;e+=1)i[e].m(t,s);b(t,e,s),n=!0},p(t,n){if(1&n){let l;for(s=t[0].paths,l=0;l<s.length;l+=1){const o=At(t,s,l);i[l]?(i[l].p(o,n),ht(i[l],1)):(i[l]=Ht(o),i[l].c(),ht(i[l],1),i[l].m(e.parentNode,e))}for(dt(),l=s.length;l<i.length;l+=1)o(l);ft()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)ht(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)pt(i[t]);n=!1},d(t){x(i,t),t&&w(e)}}}function Ht(t){let e,n;return e=new qt({props:{id:t[26],data:t[27]}}),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.data=t[27]),e.$set(s)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Ft(t){let e,n,s=t[0].polygons,i=[];for(let e=0;e<s.length;e+=1)i[e]=Ut(Rt(t,s,e));const o=t=>pt(i[t],1,1,()=>{i[t]=null});return{c(){for(let t=0;t<i.length;t+=1)i[t].c();e=S()},m(t,s){for(let e=0;e<i.length;e+=1)i[e].m(t,s);b(t,e,s),n=!0},p(t,n){if(1&n){let l;for(s=t[0].polygons,l=0;l<s.length;l+=1){const o=Rt(t,s,l);i[l]?(i[l].p(o,n),ht(i[l],1)):(i[l]=Ut(o),i[l].c(),ht(i[l],1),i[l].m(e.parentNode,e))}for(dt(),l=s.length;l<i.length;l+=1)o(l);ft()}},i(t){if(!n){for(let t=0;t<s.length;t+=1)ht(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)pt(i[t]);n=!1},d(t){x(i,t),t&&w(e)}}}function Ut(t){let e,n;return e=new Mt({props:{id:t[26],data:t[24]}}),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.data=t[24]),e.$set(s)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Yt(t){let e,n,s;function i(e){t[15].call(null,e)}let o={};return void 0!==t[0]&&(o.data=t[0]),e=new Et({props:o}),K.push(()=>bt(e,"data",i)),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,s){const i={};!n&&1&s&&(n=!0,i.data=t[0],nt(()=>n=!1)),e.$set(i)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Gt(t){let e;const n=t[14].default,s=c(n,t,t[16],null),i=s||function(t){let e,n,s=t[0]&&Tt(t);return{c(){s&&s.c(),e=S()},m(t,i){s&&s.m(t,i),b(t,e,i),n=!0},p(t,n){t[0]?s?(s.p(t,n),1&n&&ht(s,1)):(s=Tt(t),s.c(),ht(s,1),s.m(e.parentNode,e)):s&&(dt(),pt(s,1,1,()=>{s=null}),ft())},i(t){n||(ht(s),n=!0)},o(t){pt(s),n=!1},d(t){s&&s.d(t),t&&w(e)}}}(t);return{c(){i&&i.c()},m(t,n){i&&i.m(t,n),e=!0},p(t,e){s?s.p&&65536&e&&u(s,n,t,t[16],e,null,null):i&&i.p&&1&e&&i.p(t,e)},i(t){e||(ht(i,t),e=!0)},o(t){pt(i,t),e=!1},d(t){i&&i.d(t)}}}function Vt(t){let e,n;return e=new Dt({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[Gt]},$$scope:{ctx:t}}}),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(t,[n]){const s={};64&n&&(s.label=t[6]),128&n&&(s.width=t[7]),256&n&&(s.height=t[8]),1024&n&&(s.box=t[10]),512&n&&(s.style=t[9]),4&n&&(s.spin=t[2]),32&n&&(s.flip=t[5]),8&n&&(s.inverse=t[3]),16&n&&(s.pulse=t[4]),2&n&&(s.class=t[1]),65537&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Jt(t,e,n){let s,i,o,l,{class:r=""}=e,{data:c}=e,{scale:a=1}=e,{spin:u=!1}=e,{inverse:d=!1}=e,{pulse:f=!1}=e,{flip:h=null}=e,{label:p=null}=e,{self:g=null}=e,{style:m=null}=e;function $(){let t=1;return void 0!==a&&(t=Number(a)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function v(){return g?Math.max(g.width,g.height)/16:1}let{$$slots:b={},$$scope:w}=e;return t.$set=t=>{"class"in t&&n(1,r=t.class),"data"in t&&n(11,c=t.data),"scale"in t&&n(12,a=t.scale),"spin"in t&&n(2,u=t.spin),"inverse"in t&&n(3,d=t.inverse),"pulse"in t&&n(4,f=t.pulse),"flip"in t&&n(5,h=t.flip),"label"in t&&n(6,p=t.label),"self"in t&&n(0,g=t.self),"style"in t&&n(13,m=t.style),"$$scope"in t&&n(16,w=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===c)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,s=t.iconName,i={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[s]=i,e}return t}(c),[e]=Object.keys(t),s=t[e];s.paths||(s.paths=[]),s.d&&s.paths.push({d:s.d}),s.polygons||(s.polygons=[]),s.points&&s.polygons.push({points:s.points}),n(0,g=s)}(),n(7,s=g?g.width/v()*$():0),n(8,i=g?g.height/v()*$():0),n(9,o=function(){let t="";null!==m&&(t+=m);let e=$();return 1===e?t:(""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`)}()),n(10,l=g?`0 0 ${g.width} ${g.height}`:`0 0 ${s} ${i}`))},[g,r,u,d,f,h,p,s,i,o,l,c,a,m,b,function(t){g=t,n(0,g)},w]}class Kt extends Ct{constructor(t){super(),_t(this,t,Jt,Vt,r,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}var Zt={close:{width:1408,height:1792,paths:[{d:"M1298 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}]}},Xt={gear:{width:1536,height:1792,paths:[{d:"M1024 896q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zM1536 787v222q0 12-8 23t-20 13l-185 28q-19 54-39 91 35 50 107 138 10 12 10 25t-9 23q-27 37-99 108t-94 71q-12 0-26-9l-138-108q-44 23-91 38-16 136-29 186-7 28-36 28h-222q-14 0-24.5-8.5t-11.5-21.5l-28-184q-49-16-90-37l-141 107q-10 9-25 9-14 0-25-11-126-114-165-168-7-10-7-23 0-12 8-23 15-21 51-66.5t54-70.5q-27-50-41-99l-183-27q-13-2-21-12.5t-8-23.5v-222q0-12 8-23t19-13l186-28q14-46 39-92-40-57-107-138-10-12-10-24 0-10 9-23 26-36 98.5-107.5t94.5-71.5q13 0 26 10l138 107q44-23 91-38 16-136 29-186 7-28 36-28h222q14 0 24.5 8.5t11.5 21.5l28 184q49 16 90 37l142-107q9-9 24-9 13 0 25 10 129 119 165 170 7 8 7 22 0 12-8 23-15 21-51 66.5t-54 70.5q26 50 41 98l183 28q13 2 21 12.5t8 23.5z"}]}};function Qt(t){const e=t-1;return e*e*e+1}function te(t,{delay:n=0,duration:s=400,easing:i=e}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:s,easing:i,css:t=>"opacity: "+t*o}}function ee(t,{delay:e=0,duration:n=400,easing:s=Qt,x:i=0,y:o=0,opacity:l=0}){const r=getComputedStyle(t),c=+r.opacity,a="none"===r.transform?"":r.transform,u=c*(1-l);return{delay:e,duration:n,easing:s,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*e}`}}function ne(t){let e,s,i,r,c,a,u,d,f,h,p,g=t[0].closeButton&&se(t);const m=[t[2]];var $=t[1];function x(t){let e={};for(let t=0;t<m.length;t+=1)e=n(e,m[t]);return{props:e}}return $&&(a=new $(x())),{c(){e=y("div"),s=y("div"),i=y("div"),g&&g.c(),r=C(),c=y("div"),a&&wt(a.$$.fragment),W(c,"class","content svelte-1hfz9of"),W(c,"style",t[12]),W(i,"class","window svelte-1hfz9of"),W(i,"role","dialog"),W(i,"aria-modal","true"),W(i,"style",t[11]),W(s,"class","window-wrap svelte-1hfz9of"),W(e,"class","bg svelte-1hfz9of"),W(e,"style",t[10])},m(n,o){b(n,e,o),v(e,s),v(s,i),g&&g.m(i,null),v(i,r),v(i,c),a&&xt(a,c,null),t[35](i),t[36](s),t[37](e),f=!0,h||(p=[N(i,"introstart",(function(){l(t[6])&&t[6].apply(this,arguments)})),N(i,"outrostart",(function(){l(t[7])&&t[7].apply(this,arguments)})),N(i,"introend",(function(){l(t[8])&&t[8].apply(this,arguments)})),N(i,"outroend",(function(){l(t[9])&&t[9].apply(this,arguments)})),N(e,"click",t[19])],h=!0)},p(n,s){(t=n)[0].closeButton?g?(g.p(t,s),1&s[0]&&ht(g,1)):(g=se(t),g.c(),ht(g,1),g.m(i,r)):g&&(dt(),pt(g,1,1,()=>{g=null}),ft());const o=4&s[0]?$t(m,[vt(t[2])]):{};if($!==($=t[1])){if(a){dt();const t=a;pt(t.$$.fragment,1,0,()=>{yt(t,1)}),ft()}$?(a=new $(x()),wt(a.$$.fragment),ht(a.$$.fragment,1),xt(a,c,null)):a=null}else $&&a.$set(o);(!f||4096&s[0])&&W(c,"style",t[12]),(!f||2048&s[0])&&W(i,"style",t[11]),(!f||1024&s[0])&&W(e,"style",t[10])},i(n){f||(ht(g),a&&ht(a.$$.fragment,n),et(()=>{u||(u=mt(i,t[15],t[0].transitionWindowProps,!0)),u.run(1)}),et(()=>{d||(d=mt(e,t[14],t[0].transitionBgProps,!0)),d.run(1)}),f=!0)},o(n){pt(g),a&&pt(a.$$.fragment,n),u||(u=mt(i,t[15],t[0].transitionWindowProps,!1)),u.run(0),d||(d=mt(e,t[14],t[0].transitionBgProps,!1)),d.run(0),f=!1},d(n){n&&w(e),g&&g.d(),a&&yt(a),t[35](null),n&&u&&u.end(),t[36](null),t[37](null),n&&d&&d.end(),h=!1,o(p)}}}function se(t){let e,n,s,i,o;const l=[oe,ie],r=[];function c(t,n){return 1&n[0]&&(e=!!t[16](t[0].closeButton)),e?0:1}return n=c(t,[-1]),s=r[n]=l[n](t),{c(){s.c(),i=S()},m(t,e){r[n].m(t,e),b(t,i,e),o=!0},p(t,e){let o=n;n=c(t,e),n===o?r[n].p(t,e):(dt(),pt(r[o],1,1,()=>{r[o]=null}),ft(),s=r[n],s||(s=r[n]=l[n](t),s.c()),ht(s,1),s.m(i.parentNode,i))},i(t){o||(ht(s),o=!0)},o(t){pt(s),o=!1},d(t){r[n].d(t),t&&w(i)}}}function ie(e){let n,s,i;return{c(){n=y("button"),W(n,"class","close svelte-1hfz9of"),W(n,"style",e[13])},m(t,o){b(t,n,o),s||(i=N(n,"click",e[17]),s=!0)},p(t,e){8192&e[0]&&W(n,"style",t[13])},i:t,o:t,d(t){t&&w(n),s=!1,i()}}}function oe(t){let e,n,s;var i=t[0].closeButton;function o(t){return{props:{onClose:t[17]}}}return i&&(e=new i(o(t))),{c(){e&&wt(e.$$.fragment),n=S()},m(t,i){e&&xt(e,t,i),b(t,n,i),s=!0},p(t,s){if(i!==(i=t[0].closeButton)){if(e){dt();const t=e;pt(t.$$.fragment,1,0,()=>{yt(t,1)}),ft()}i?(e=new i(o(t)),wt(e.$$.fragment),ht(e.$$.fragment,1),xt(e,n.parentNode,n)):e=null}},i(t){s||(e&&ht(e.$$.fragment,t),s=!0)},o(t){e&&pt(e.$$.fragment,t),s=!1},d(t){t&&w(n),e&&yt(e,t)}}}function le(t){let e,n,s,i,o=t[1]&&ne(t);const l=t[34].default,r=c(l,t,t[33],null);return{c(){o&&o.c(),e=C(),r&&r.c()},m(l,c){o&&o.m(l,c),b(l,e,c),r&&r.m(l,c),n=!0,s||(i=N(window,"keydown",t[18]),s=!0)},p(t,n){t[1]?o?(o.p(t,n),2&n[0]&&ht(o,1)):(o=ne(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(dt(),pt(o,1,1,()=>{o=null}),ft()),r&&r.p&&4&n[1]&&u(r,l,t,t[33],n,null,null)},i(t){n||(ht(o),ht(r,t),n=!0)},o(t){pt(o),pt(r,t),n=!1},d(t){o&&o.d(t),t&&w(e),r&&r.d(t),s=!1,i()}}}function re(t,e,n){let{key:s="simple-modal"}=e,{closeButton:i=!0}=e,{closeOnEsc:o=!0}=e,{closeOnOuterClick:l=!0}=e,{styleBg:r={top:0,left:0}}=e,{styleWindow:c={}}=e,{styleContent:a={}}=e,{styleCloseButton:u={}}=e,{setContext:d=Y}=e,{transitionBg:f=te}=e,{transitionBgProps:h={duration:250}}=e,{transitionWindow:p=f}=e,{transitionWindowProps:g=h}=e;const m={closeButton:i,closeOnEsc:o,closeOnOuterClick:l,styleBg:r,styleWindow:c,styleContent:a,styleCloseButton:u,transitionBg:f,transitionBgProps:h,transitionWindow:p,transitionWindowProps:g};let $,v,b,w={...m},x=null,y=null;const k=t=>Object.keys(t).reduce((e,n)=>`${e}; ${(t=>t.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase())(n)}: ${t[n]}`,""),_=()=>{};let C=_,S=_,N=_,W=_;const q=(t={})=>{n(7,S=t.onClose||S),n(9,W=t.onClosed||W),n(1,x=null),n(2,y=null)};d(s,{open:(t,e={},s={},i={})=>{n(1,x=t),n(2,y=e),n(0,w={...m,...s}),n(6,C=i.onOpen||_),n(7,S=i.onClose||_),n(8,N=i.onOpened||_),n(9,W=i.onClosed||_)},close:q});let I,z,M,B,j,E,{$$slots:O={},$$scope:P}=e;return t.$set=t=>{"key"in t&&n(20,s=t.key),"closeButton"in t&&n(21,i=t.closeButton),"closeOnEsc"in t&&n(22,o=t.closeOnEsc),"closeOnOuterClick"in t&&n(23,l=t.closeOnOuterClick),"styleBg"in t&&n(24,r=t.styleBg),"styleWindow"in t&&n(25,c=t.styleWindow),"styleContent"in t&&n(26,a=t.styleContent),"styleCloseButton"in t&&n(27,u=t.styleCloseButton),"setContext"in t&&n(28,d=t.setContext),"transitionBg"in t&&n(29,f=t.transitionBg),"transitionBgProps"in t&&n(30,h=t.transitionBgProps),"transitionWindow"in t&&n(31,p=t.transitionWindow),"transitionWindowProps"in t&&n(32,g=t.transitionWindowProps),"$$scope"in t&&n(33,P=t.$$scope)},t.$$.update=()=>{1&t.$$.dirty[0]&&n(10,I=k(w.styleBg)),1&t.$$.dirty[0]&&n(11,z=k(w.styleWindow)),1&t.$$.dirty[0]&&n(12,M=k(w.styleContent)),1&t.$$.dirty[0]&&n(13,B=k(w.styleCloseButton)),1&t.$$.dirty[0]&&n(14,j=w.transitionBg),1&t.$$.dirty[0]&&n(15,E=w.transitionWindow)},[w,x,y,$,v,b,C,S,N,W,I,z,M,B,j,E,t=>St.isPrototypeOf(t),q,t=>{if(w.closeOnEsc&&x&&"Escape"===t.key&&(t.preventDefault(),q()),x&&"Tab"===t.key){const e=b.querySelectorAll("*"),n=Array.from(e).filter(t=>t.tabIndex>=0);let s=n.indexOf(document.activeElement);-1===s&&t.shiftKey&&(s=0),s+=n.length+(t.shiftKey?-1:1),s%=n.length,n[s].focus(),t.preventDefault()}},t=>{!w.closeOnOuterClick||t.target!==$&&t.target!==v||(t.preventDefault(),q())},s,i,o,l,r,c,a,u,d,f,h,p,g,P,O,function(t){K[t?"unshift":"push"](()=>{b=t,n(5,b)})},function(t){K[t?"unshift":"push"](()=>{v=t,n(4,v)})},function(t){K[t?"unshift":"push"](()=>{$=t,n(3,$)})}]}class ce extends Ct{constructor(t){super(),_t(this,t,re,le,r,{key:20,closeButton:21,closeOnEsc:22,closeOnOuterClick:23,styleBg:24,styleWindow:25,styleContent:26,styleCloseButton:27,setContext:28,transitionBg:29,transitionBgProps:30,transitionWindow:31,transitionWindowProps:32},[-1,-1])}}const ae=[];function ue(e,n=t){let s;const i=[];function o(t){if(r(e,t)&&(e=t,s)){const t=!ae.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),ae.push(n,e)}if(t){for(let t=0;t<ae.length;t+=2)ae[t][0](ae[t+1]);ae.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,r=t){const c=[l,r];return i.push(c),1===i.length&&(s=n(o)||t),l(e),()=>{const t=i.indexOf(c);-1!==t&&i.splice(t,1),0===i.length&&(s(),s=null)}}}}class de{constructor(t,e,n,s,i,o,l){this._bikeWeight=t,this._wheelsInertia=e,this._wheelsCircumference=n,this._efficiency=s,this._area=i,this._cx=o,this._coefficientsFile=l}get bikeWeight(){return this._bikeWeight}get wheelsInertia(){return this._wheelsInertia}get wheelsCircumference(){return this._wheelsCircumference}get wheelsRadius(){return this._wheelsCircumference/6.283}get efficiency(){return this._efficiency}get area(){return this._area}get cx(){return this._cx}get coefficientsFile(){return this._coefficientsFile}}class fe{constructor(t,e,n){this._riderWeight=t,this._riderHeight=e,this._rho=n}get riderWeight(){return this._riderWeight}get riderHeight(){return this._riderHeight}get rho(){return this._rho}}class he{constructor(t,e,n,s){this.bikeName=t,this.imgSrc=e,this.description=n,this.settings=s}}const pe=ue(0),ge=ue(0),me=new de(30,.09,1.45,.95,.3,.05,"coefficients4.json"),$e=new fe(70,180,1.01),ve=()=>"true"===localStorage.getItem("debug");let be=()=>{const t=localStorage.getItem("bike_settings");return null===t?me:function(t){return new de(t._bikeWeight,t._wheelsInertia,t._wheelsCircumference,t._efficiency,t._area,t._cx,"coefficients4.json")}(JSON.parse(t))},we=()=>{const t=localStorage.getItem("user_settings");return null===t?$e:function(t){return new fe(t._riderWeight,t._riderHeight,t._rho)}(JSON.parse(t))},xe=[],ye=()=>xe;function ke(t){let e,n,s,i,o,l,r;const a=t[5].default,d=c(a,t,t[4],null);return{c(){e=y("a"),n=y("div"),s=y("div"),d&&d.c(),i=C(),o=_(t[1]),W(s,"aria-hidden","true"),W(s,"class","ssbc-button__icon svelte-abzkh4"),j(s,"ssbc-button__icon--fill",t[2]),j(s,"ssbc-button__icon--outline",!t[2]),W(n,"class",l="ssbc-button "+t[3]+" svelte-abzkh4"),W(e,"class","ssbc-button__link svelte-abzkh4"),W(e,"href",t[0]),W(e,"target","_blank"),W(e,"rel","noopener")},m(t,l){b(t,e,l),v(e,n),v(n,s),d&&d.m(s,null),v(n,i),v(n,o),r=!0},p(t,[i]){d&&d.p&&16&i&&u(d,a,t,t[4],i,null,null),4&i&&j(s,"ssbc-button__icon--fill",t[2]),4&i&&j(s,"ssbc-button__icon--outline",!t[2]),(!r||2&i)&&z(o,t[1]),(!r||8&i&&l!==(l="ssbc-button "+t[3]+" svelte-abzkh4"))&&W(n,"class",l),(!r||1&i)&&W(e,"href",t[0])},i(t){r||(ht(d,t),r=!0)},o(t){pt(d,t),r=!1},d(t){t&&w(e),d&&d.d(t)}}}function _e(t,e,n){let{href:s}=e,{label:i=""}=e,{fill:o=!0}=e,{class:l=""}=e,{$$slots:r={},$$scope:c}=e;return t.$set=t=>{"href"in t&&n(0,s=t.href),"label"in t&&n(1,i=t.label),"fill"in t&&n(2,o=t.fill),"class"in t&&n(3,l=t.class),"$$scope"in t&&n(4,c=t.$$scope)},[s,i,o,l,c,r]}class Ce extends Ct{constructor(t){super(),_t(this,t,_e,ke,r,{href:0,label:1,fill:2,class:3})}}function Se(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function Ne(t){let e,s;const i=[{class:"ssbc-button--email "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[Se]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--email "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function We(t,e,s){const i=["subject","body","class"];let o,l=f(e,i),{subject:r}=e,{body:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"subject"in t&&s(3,r=t.subject),"body"in t&&s(4,c=t.body),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,o=encodeURI(`mailto:?subject=${r}&body=${c}`))},[a,o,l,r,c]}class qe extends Ct{constructor(t){super(),_t(this,t,We,Ne,r,{subject:3,body:4,class:0})}}function Ie(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function ze(t){let e,s;const i=[{class:"ssbc-button--facebook "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[Ie]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--facebook "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};16&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Me(t,e,s){const i=["url","class"];let o,l=f(e,i),{url:r}=e,{class:c=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"url"in t&&s(3,r=t.url),"class"in t&&s(0,c=t.class)},t.$$.update=()=>{8&t.$$.dirty&&s(1,o=encodeURI("https://facebook.com/sharer/sharer.php?u="+r))},[c,o,l,r]}class Be extends Ct{constructor(t){super(),_t(this,t,Me,ze,r,{url:3,class:0})}}function je(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function Ee(t){let e,s;const i=[{class:"ssbc-button--linkedin "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[je]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--linkedin "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};16&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Oe(t,e,s){const i=["url","class"];let o,l=f(e,i),{url:r}=e,{class:c=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"url"in t&&s(3,r=t.url),"class"in t&&s(0,c=t.class)},t.$$.update=()=>{8&t.$$.dirty&&s(1,o=encodeURI("https://www.linkedin.com/sharing/share-offsite/?url="+r))},[c,o,l,r]}class Pe extends Ct{constructor(t){super(),_t(this,t,Oe,Ee,r,{url:3,class:0})}}function De(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function Re(t){let e,s;const i=[{class:"ssbc-button--reddit "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[De]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--reddit "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Ae(t,e,s){const i=["title","url","class"];let o,l=f(e,i),{title:r}=e,{url:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"title"in t&&s(3,r=t.title),"url"in t&&s(4,c=t.url),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,o=encodeURI(`https://reddit.com/submit/?url=${c}&resubmit=true&title=${r}`))},[a,o,l,r,c]}class Te extends Ct{constructor(t){super(),_t(this,t,Ae,Re,r,{title:3,url:4,class:0})}}function Le(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M.707 8.475C.275 8.64 0 9.508 0 9.508s.284.867.718 1.03l5.09 1.897 1.986 6.38a1.102 1.102 0 0 0 1.75.527l2.96-2.41a.405.405 0 0 1 .494-.013l5.34 3.87a1.1 1.1 0 0 0 1.046.135 1.1 1.1 0 0 0 .682-.803l3.91-18.795A1.102 1.102 0 0 0 22.5.075L.706 8.475z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function He(t){let e,s;const i=[{class:"ssbc-button--telegram "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[Le]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--telegram "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Fe(t,e,s){const i=["text","url","class"];let o,l=f(e,i),{text:r}=e,{url:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"text"in t&&s(3,r=t.text),"url"in t&&s(4,c=t.url),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,o=encodeURI(`https://telegram.me/share/url?text=${r}&url=${c}`))},[a,o,l,r,c]}class Ue extends Ct{constructor(t){super(),_t(this,t,Fe,He,r,{text:3,url:4,class:0})}}function Ye(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function Ge(t){let e,s;const i=[{class:"ssbc-button--twitter "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[Ye]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--twitter "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};32&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Ve(t,e,s){const i=["text","url","class"];let o,l=f(e,i),{text:r}=e,{url:c}=e,{class:a=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"text"in t&&s(3,r=t.text),"url"in t&&s(4,c=t.url),"class"in t&&s(0,a=t.class)},t.$$.update=()=>{24&t.$$.dirty&&s(1,o=encodeURI(`https://twitter.com/intent/tweet/?text=${r}&url=${c}`))},[a,o,l,r,c]}class Je extends Ct{constructor(t){super(),_t(this,t,Ve,Ge,r,{text:3,url:4,class:0})}}function Ke(t){let e,n;return{c(){e=k("svg"),n=k("path"),W(n,"d","M20.1 3.9C17.9 1.7 15 .5 12 .5 5.8.5.7 5.6.7 11.9c0 2 .5 3.9 1.5 5.6L.6 23.4l6-1.6c1.6.9 3.5 1.3 5.4 1.3 6.3 0 11.4-5.1 11.4-11.4-.1-2.8-1.2-5.7-3.3-7.8zM12 21.4c-1.7 0-3.3-.5-4.8-1.3l-.4-.2-3.5 1 1-3.4L4 17c-1-1.5-1.4-3.2-1.4-5.1 0-5.2 4.2-9.4 9.4-9.4 2.5 0 4.9 1 6.7 2.8 1.8 1.8 2.8 4.2 2.8 6.7-.1 5.2-4.3 9.4-9.5 9.4zm5.1-7.1c-.3-.1-1.7-.9-1.9-1-.3-.1-.5-.1-.7.1-.2.3-.8 1-.9 1.1-.2.2-.3.2-.6.1s-1.2-.5-2.3-1.4c-.9-.8-1.4-1.7-1.6-2-.2-.3 0-.5.1-.6s.3-.3.4-.5c.2-.1.3-.3.4-.5.1-.2 0-.4 0-.5C10 9 9.3 7.6 9 7c-.1-.4-.4-.3-.5-.3h-.6s-.4.1-.7.3c-.3.3-1 1-1 2.4s1 2.8 1.1 3c.1.2 2 3.1 4.9 4.3.7.3 1.2.5 1.6.6.7.2 1.3.2 1.8.1.6-.1 1.7-.7 1.9-1.3.2-.7.2-1.2.2-1.3-.1-.3-.3-.4-.6-.5z"),W(e,"xmlns","http://www.w3.org/2000/svg"),W(e,"viewBox","0 0 24 24")},m(t,s){b(t,e,s),v(e,n)},d(t){t&&w(e)}}}function Ze(t){let e,s;const i=[{class:"ssbc-button--whatsapp "+t[0]},t[2],{href:t[1]}];let o={$$slots:{default:[Ke]},$$scope:{ctx:t}};for(let t=0;t<i.length;t+=1)o=n(o,i[t]);return e=new Ce({props:o}),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,[n]){const s=7&n?$t(i,[1&n&&{class:"ssbc-button--whatsapp "+t[0]},4&n&&vt(t[2]),2&n&&{href:t[1]}]):{};16&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Xe(t,e,s){const i=["text","class"];let o,l=f(e,i),{text:r}=e,{class:c=""}=e;return t.$set=t=>{e=n(n({},e),d(t)),s(2,l=f(e,i)),"text"in t&&s(3,r=t.text),"class"in t&&s(0,c=t.class)},t.$$.update=()=>{8&t.$$.dirty&&s(1,o=encodeURI("whatsapp://send?text="+r))},[c,o,l,r]}class Qe extends Ct{constructor(t){super(),_t(this,t,Xe,Ze,r,{text:3,class:0})}}function tn(t){let e,n,s;return{c(){e=y("div"),n=y("h2"),s=_(t[7]),W(n,"class","svelte-12cyad1"),W(e,"class","relative svelte-12cyad1")},m(t,i){b(t,e,i),v(e,n),v(n,s)},p(t,e){128&e[0]&&z(s,t[7])},d(t){t&&w(e)}}}function en(t){let e,n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,q,I,M,B,j,E,O,P,D,R,A,T,L,H=Math.round(10*t[3])/10+"",F=Math.trunc(t[5]/60)>0?Math.trunc(t[5]/60)+"'":"",U=Math.round(t[5]%60)+'"',Y=Math.round(t[4]/10)/100+"",G=t[2]&&nn();return{c(){e=y("div"),n=y("video"),s=y("source"),o=_("\n        Your browser does not support video."),r=C(),c=y("div"),a=_("Speed: "),u=_(H),d=_(" km/h"),f=C(),h=y("div"),p=_("Power: "),g=_(t[0]),m=_(" W"),$=C(),x=y("div"),k=_(t[7]),S=C(),G&&G.c(),q=C(),I=y("div"),M=_("Time: "),B=_(F),j=C(),E=_(U),O=C(),P=y("div"),D=_("Distance: "),R=_(Y),A=_(" km"),s.src!==(i="data/bm-13-09-19_no_scritte.mp4")&&W(s,"src","data/bm-13-09-19_no_scritte.mp4"),W(s,"type","video/mp4"),W(n,"width",t[1]),W(n,"height",l=t[1]/1.666666666),n.muted=!0,W(n,"class","svelte-12cyad1"),W(c,"class","overlay bottom_left svelte-12cyad1"),W(h,"class","overlay bottom_right svelte-12cyad1"),W(x,"class","overlay center svelte-12cyad1"),W(I,"class","overlay top_left svelte-12cyad1"),W(P,"class","overlay top_right svelte-12cyad1"),W(e,"class","relative svelte-12cyad1")},m(i,l){b(i,e,l),v(e,n),v(n,s),v(n,o),t[13](n),isNaN(t[6])||(n.playbackRate=t[6]),v(e,r),v(e,c),v(c,a),v(c,u),v(c,d),v(e,f),v(e,h),v(h,p),v(h,g),v(h,m),v(e,$),v(e,x),v(x,k),v(e,S),G&&G.m(e,null),v(e,q),v(e,I),v(I,M),v(I,B),v(I,j),v(I,E),v(e,O),v(e,P),v(P,D),v(P,R),v(P,A),T||(L=N(n,"ratechange",t[14]),T=!0)},p(t,s){2&s[0]&&W(n,"width",t[1]),2&s[0]&&l!==(l=t[1]/1.666666666)&&W(n,"height",l),64&s[0]&&!isNaN(t[6])&&(n.playbackRate=t[6]),8&s[0]&&H!==(H=Math.round(10*t[3])/10+"")&&z(u,H),1&s[0]&&z(g,t[0]),128&s[0]&&z(k,t[7]),t[2]?G||(G=nn(),G.c(),G.m(e,q)):G&&(G.d(1),G=null),32&s[0]&&F!==(F=Math.trunc(t[5]/60)>0?Math.trunc(t[5]/60)+"'":"")&&z(B,F),32&s[0]&&U!==(U=Math.round(t[5]%60)+'"')&&z(E,U),16&s[0]&&Y!==(Y=Math.round(t[4]/10)/100+"")&&z(R,Y)},d(n){n&&w(e),t[13](null),G&&G.d(),T=!1,L()}}}function nn(t){let e;return{c(){e=y("div"),e.textContent="Slow internet connection!",W(e,"class","overlay center2 svelte-12cyad1")},m(t,n){b(t,e,n)},d(t){t&&w(e)}}}function sn(e){let n;function s(t,e){return t[9]?tn:en}let i=s(e),o=i(e);return{c(){n=y("section"),o.c(),W(n,"class","svelte-12cyad1")},m(t,e){b(t,n,e),o.m(n,null)},p(t,e){i===(i=s(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n,null)))},i:t,o:t,d(t){t&&w(n),o.d()}}}const on=9.81,ln=8184,rn=8384;function cn(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function l(t){try{c(s.next(t))}catch(t){o(t)}}function r(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,r)}c((s=s.apply(t,e||[])).next())}))};let{bikeSettings:i}=e,{userSettings:o}=e,l=480,{power:r=0}=e;const c=U();let a,u,d,f,h,p,g=!1,m=0,$=0,v=0,b=0,w=0,x=0,y=0,k=!1,_=!1,C=0,S=0;function N(){return s(this,void 0,void 0,(function*(){k&&(clearInterval(p),n(6,x=0),yield h.pause(),n(8,h.currentTime=0,h),y=0,n(5,w=0),n(4,b=0),n(3,v=0),k=!1)}))}function W(){console.log("Window size"),window.screen.width/1.666666>window.screen.height?(console.log("1: ",1.666666*window.screen.height),n(1,l=1.666666*window.screen.height)):(console.log("2: ",window.screen.width),n(1,l=window.screen.width)),document.getElementsByClassName("relative").item(0).setAttribute("style","width:"+l+"px")}function q(){(r>5e3||r<0)&&(alert("Not valid number!!"),n(3,v=0),clearInterval(p)),function(t,e,s){let i=0;for(;f[i].sec<y&&i<581;)i++;if(581===i)return n(6,x=0),c("message",{text:{speed:Math.round(100*C/S)/100,power:$/m}}),n(9,_=!0),void clearInterval(p);let o=f[i].kph;n(6,x=s/o),0!==x&&(x<.0625||x>16)&&(alert("Sorry but the speed is too low or too high, the activity will be restarted."),N());y+=x*e}(0,1,v);const t=I(v,1,b),e=function(t,e,n){if(t>8584){if(t<9384&&e>60)return 20*-e;if(t>=9384&&e>35)return 50*-e}return n}(b,v,r);n(3,v=function(t,e,n,s){const l=(t/=3.6)>40?400:Math.round(10*t),r=u[l].cr,c=u[l].cx*i.cx,a=.5*(i.bikeWeight+o.riderWeight)*Math.pow(t,2),d=.5*i.wheelsInertia*Math.pow(t,2)/Math.pow(i.wheelsRadius,2),f=i.efficiency*n*e,h=-s*t*n,p=(i.bikeWeight+o.riderWeight)*on*h,g=r*(i.bikeWeight+o.riderWeight)*on*n*t,m=.5*o.rho*c*i.area*Math.pow(t,3)*n,$=3.6*Math.pow(2*(a+d+f+p-m-g)/(i.bikeWeight+o.riderWeight+i.wheelsInertia/Math.pow(i.wheelsRadius,2)),.5);return $>0?$:0}(v,e,1,t)),console.log(v),n(5,w++,w),n(4,b+=v/3.6)}function I(t,e,n){t/=3.6;let s=Math.round(t*e+n),i=0;for(let t=n=Math.round(n);t<s;t++)i+=t<d.length-1?parseFloat(d[t]):0;return s!==n?-i/(s-n):0}return H(()=>s(void 0,void 0,void 0,(function*(){W(),window.onresize=W;let t=yield fetch("data/"+i.coefficientsFile);u=yield t.json(),t=yield fetch("data/slope.txt");const e=yield t.text();d=yield e.split("\n"),t=yield fetch("data/19-09-19-am-gallo_t2.json"),f=yield t.json(),n(8,h.onwaiting=()=>{console.log("WAITING"),n(2,g=!0),clearInterval(p)},h),n(8,h.onplaying=()=>{console.log("PLAYING"),n(2,g=!1),p=setInterval(q,1e3)},h),n(8,h.preload=!0,h),yield function(){return s(this,void 0,void 0,(function*(){k||(n(6,x=0),yield h.play(),k=!0)}))}(),n(9,_=!1),console.log(document.getElementsByClassName("relative").length)}))),F(()=>{clearInterval(p),window.onresize=null}),t.$set=t=>{"bikeSettings"in t&&n(10,i=t.bikeSettings),"userSettings"in t&&n(11,o=t.userSettings),"power"in t&&n(0,r=t.power)},t.$$.update=()=>{25264153&t.$$.dirty[0]&&(b>1&&b<rn&&(n(15,m++,m),$+=r),b>6575&&b<ln?n(7,a=`Distance to GO ${Math.round(ln-b)}m`):b>=ln&&b<=rn?(n(7,a=`Distance to END ${Math.round(rn-b)}m`),n(23,C+=v),n(24,S++,S),console.log(C,"",S)):b>rn?n(7,a="Slow down before catching! ðŸ˜ðŸŽ³"):(n(7,a=""),n(24,S=0),n(23,C=0)))},[r,l,g,v,b,w,x,a,h,_,i,o,N,function(t){K[t?"unshift":"push"](()=>{h=t,n(8,h)})},function(){x=this.playbackRate,n(6,x)}]}class an extends Ct{constructor(t){super(),_t(this,t,cn,sn,r,{bikeSettings:10,userSettings:11,power:0,reset:12},[-1,-1])}get reset(){return this.$$.ctx[12]}}class un{constructor(t,e,n,s,i,o="",l="",r="",c="",a=!1){this.firstName=o,this.lastName=l,this.email=r,this.speed=t,this.power=e,this.bikeName=i,this.bikeSettings=n,this.userSettings=s,this.expanded=a,c.concat(" ");const u=c.split(/[- :]/);console.log(c),console.log(u),this.datetime=new Date(Date.UTC(Number(u[0]),Number(u[1]),Number(u[2]),Number(u[3]),Number(u[4]),Number(u[5])))}get date(){return`${this.datetime.getDate()}/${this.datetime.getMonth()}/${this.datetime.getFullYear()}`}checkTime(t){return t<10?"0"+t:t}get time(){return`${this.checkTime(this.datetime.getHours())}:${this.checkTime(this.datetime.getMinutes())}`}}function dn(e){let n,s,i;return{c(){n=y("h1"),n.textContent="One more step",s=C(),i=y("p"),i.textContent="Check your mail and confirm your attempt. You will become visible on\n      result as soon you confirm it.",W(n,"class","svelte-1njez97")},m(t,e){b(t,n,e),b(t,s,e),b(t,i,e)},p:t,d(t){t&&w(n),t&&w(s),t&&w(i)}}}function fn(t){let e,n,s,i,l,r,c,a,u,d,f,h,p,g,m,$,x,k,_,S,q,I,z,B,j;return{c(){e=y("h1"),e.textContent="Save your result",n=C(),s=y("p"),s.textContent="We need some information to add your attempt to our results list.",i=C(),l=y("form"),r=y("div"),c=y("label"),c.textContent="First name",a=C(),u=y("input"),d=C(),f=y("div"),h=y("label"),h.textContent="Last name",p=C(),g=y("input"),m=C(),$=y("div"),x=y("label"),x.textContent="Email",k=C(),_=y("input"),S=C(),q=y("p"),I=C(),z=y("input"),W(e,"class","svelte-1njez97"),W(c,"for","firstName"),W(c,"class","svelte-1njez97"),u.required=!0,W(u,"id","firstName"),W(u,"type","text"),W(r,"class","formData svelte-1njez97"),W(h,"for","lastName"),W(h,"class","svelte-1njez97"),g.required=!0,W(g,"id","lastName"),W(g,"type","text"),W(f,"class","formData svelte-1njez97"),W(x,"for","email"),W(x,"class","svelte-1njez97"),_.required=!0,W(_,"id","email"),W(_,"type","email"),W($,"class","formData svelte-1njez97"),W(q,"value",t[2]),W(z,"class","btn right svelte-1njez97"),W(z,"type","submit"),z.value="Send",W(l,"class","svelte-1njez97")},m(o,w){var y;b(o,e,w),b(o,n,w),b(o,s,w),b(o,i,w),b(o,l,w),v(l,r),v(r,c),v(r,a),v(r,u),M(u,t[3].firstName),v(l,d),v(l,f),v(f,h),v(f,p),v(f,g),M(g,t[3].lastName),v(l,m),v(l,$),v($,x),v($,k),v($,_),M(_,t[3].email),v(l,S),v(l,q),v(l,I),v(l,z),B||(j=[N(u,"input",t[10]),N(g,"input",t[11]),N(_,"input",t[12]),N(l,"submit",(y=t[5],function(t){return t.preventDefault(),y.call(this,t)}))],B=!0)},p(t,e){8&e&&u.value!==t[3].firstName&&M(u,t[3].firstName),8&e&&g.value!==t[3].lastName&&M(g,t[3].lastName),8&e&&_.value!==t[3].email&&M(_,t[3].email),4&e&&W(q,"value",t[2])},d(t){t&&w(e),t&&w(n),t&&w(s),t&&w(i),t&&w(l),B=!1,o(j)}}}function hn(t){let e,n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S=Math.round(.621371*t[0]*100)/100+"";return{c(){e=y("div"),n=y("h1"),n.textContent="ðŸŽ‰ Congratulations ðŸ¾",s=C(),i=y("p"),i.textContent="Your speed is",o=C(),l=y("p"),r=y("span"),c=_(t[0]),a=_(" km/h"),u=C(),d=y("p"),f=y("span"),h=_("("),p=_(S),g=_("mph)"),m=C(),$=y("button"),$.textContent="Save your result",W(n,"class","svelte-1njez97"),W(r,"class","speed svelte-1njez97"),W(f,"class","mph svelte-1njez97"),W(e,"id","result"),W($,"class","btn svelte-1njez97")},m(w,y){b(w,e,y),v(e,n),v(e,s),v(e,i),v(e,o),v(e,l),v(l,r),v(r,c),v(r,a),v(e,u),v(e,d),v(d,f),v(f,h),v(f,p),v(f,g),b(w,m,y),b(w,$,y),x||(k=N($,"click",t[4]),x=!0)},p(t,e){1&e&&z(c,t[0]),1&e&&S!==(S=Math.round(.621371*t[0]*100)/100+"")&&z(p,S)},d(t){t&&w(e),t&&w(m),t&&w($),x=!1,k()}}}function pn(e){let n;function s(t,e){return 0===t[1]?hn:1===t[1]?fn:dn}let i=s(e),o=i(e);return{c(){n=y("section"),o.c()},m(t,e){b(t,n,e),o.m(n,null)},p(t,[e]){i===(i=s(t))&&o?o.p(t,e):(o.d(1),o=i(t),o&&(o.c(),o.m(n,null)))},i:t,o:t,d(t){t&&w(n),o.d()}}}function gn(t,e,n){U();let{speed:s}=e,{power:i}=e,{bikeName:o}=e,{config:l}=e,{userConfig:r}=e,c=0,a="";const u=()=>{n(1,c++,c)};let d;return H(()=>n(3,d=new un(s,i,l,r,o))),t.$set=t=>{"speed"in t&&n(0,s=t.speed),"power"in t&&n(6,i=t.power),"bikeName"in t&&n(7,o=t.bikeName),"config"in t&&n(8,l=t.config),"userConfig"in t&&n(9,r=t.userConfig)},[s,c,a,d,u,function(){console.log(d),fetch("https://www.policumbent.it/whpsc_sim_backend/upload_result.php",{method:"POST",body:JSON.stringify(d)}).then(t=>{200===t.status&&u(),console.log(t)}).catch(t=>n(2,a=t))},i,o,l,r,function(){d.firstName=this.value,n(3,d)},function(){d.lastName=this.value,n(3,d)},function(){d.email=this.value,n(3,d)}]}class mn extends Ct{constructor(t){super(),_t(this,t,gn,pn,r,{speed:0,power:6,bikeName:7,config:8,userConfig:9})}}class $n extends class{constructor(){this.listeners={},this.listeners={},this.timeoutID=void 0,this.milliTimeout=8e3}clearValueOnTimeout(t){void 0!==this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout(()=>{if(this.timeoutID=void 0,t.constructor===Array)for(let e of t)this.dispatch(0);else this.dispatch(0)},this.milliTimeout)}}{constructor(t,e,n,s){super(),this.device=t,this.server=e,this.service=n,this.characteristic=s,this.name=this.device.name,this.id=this.device.id,this.listening=!1,this.device.addEventListener("gattserverdisconnected",t=>{this.gattServerDisconnected(t).catch(t=>{console.log("Error: ",t)})})}async gattServerDisconnected(t){console.log("Reconnecting"),this.server=await this.device.gatt.connect(),this.service=await this.server.getPrimaryService(this.serviceId),this.characteristic=await this.service.getCharacteristic(this.characteristicId),this.listening&&(this.listening=!1,this.listen())}}class vn extends $n{constructor(t,e,n,s){super(t,e,n,s),this.serviceId=6157,this.characteristicId=10807}listen(){this.listening||(this.characteristic.addEventListener("characteristicvaluechanged",t=>{let e=t.target.value.getUint8(1);console.log(e),this.dispatch(e),this.clearValueOnTimeout("hr")}),this.characteristic.startNotifications(),this.listening=!0)}dispatch(t){console.log("hr "+t),pe.set(t)}}class bn extends class{getData(t){let e,n=0;16===this.mask_size?(e=t.getUint16(0,!0),n+=2):(e=t.getUint8(0),n+=1);let s=[];if(0===this.fields[0][0])for(let t of this.fields[0][1])s.push(t);for(let[t,n]of this.fields)if(e&t)for(let t of n)s.push(t);let i={};for(let e of s){var[[o,l,r],c]=e;let s;s=r?t[o](n,r):t[o](n),i[c]=s,n+=l}return i}}{constructor(){super(),this.fields=yn,this.mask_size=16}}const wn=["getInt16",2,!0],xn=["getUint16",2,!0],yn=[[0,[[wn,"instantaneous_power"]]],[1,[[["getUint8",1],"pedal_power_balance"]]],[2,[]],[4,[[xn,"accumulated_torque"]]],[8,[]],[16,[[["getUint32",4,!0],"cumulative_wheel_revolutions"],[xn,"last_wheel_event_time"]]],[32,[[xn,"cumulative_crank_revolutions"],[xn,"last_crank_event_time"]]],[64,[[wn,"maximum_force_magnitude"],[wn,"minimum_force_magnitude"]]],[128,[[wn,"maximum_torque_magnitude"],[wn,"minimum_torque_magnitude"]]],[256,[[["getUint8",3],"maximum_minimum_angle"]]],[512,[[xn,"top_dead_spot_angle"]]],[1024,[[xn,"bottom_dead_spot_angle"]]],[2048,[[xn,"accumulated_energy"]]],[4096,[]]];class kn extends $n{constructor(t,e,n,s){super(t,e,n,s),this.serviceId=6168,this.characteristicId=10851,this.parser=new bn}listen(){this.listening||(this.characteristic.addEventListener("characteristicvaluechanged",t=>{let e=this.parser.getData(t.target.value).instantaneous_power;this.dispatch(e),this.clearValueOnTimeout("power")}),this.characteristic.startNotifications(),this.listening=!0)}dispatch(t){console.log("power "+t),ge.set(t)}}let _n,Cn;function Sn(e){let n,s,i,o,l,r,c,a,u,d,f,h,p=e[0].bikeName+"",g=e[0].description+"";return{c(){n=y("div"),s=y("label"),i=_(p),o=C(),l=y("img"),a=C(),u=y("p"),d=_(g),W(s,"class","svelte-188kdbq"),W(l,"class","image svelte-188kdbq"),l.src!==(r=e[0].imgSrc)&&W(l,"src",r),W(l,"alt",c=e[0].bikeName+" image"),W(u,"class","svelte-188kdbq"),W(n,"class","container svelte-188kdbq")},m(t,r){b(t,n,r),v(n,s),v(s,i),v(n,o),v(n,l),v(n,a),v(n,u),v(u,d),f||(h=N(n,"click",e[1]),f=!0)},p(t,[e]){1&e&&p!==(p=t[0].bikeName+"")&&z(i,p),1&e&&l.src!==(r=t[0].imgSrc)&&W(l,"src",r),1&e&&c!==(c=t[0].bikeName+" image")&&W(l,"alt",c),1&e&&g!==(g=t[0].description+"")&&z(d,g)},i:t,o:t,d(t){t&&w(n),f=!1,h()}}}function Nn(t,e,n){let{bike:s}=e;return t.$set=t=>{"bike"in t&&n(0,s=t.bike)},[s,function(e){V(t,e)}]}class Wn extends Ct{constructor(t){super(),_t(this,t,Nn,Sn,r,{bike:0})}}function qn(t,e,n){const s=t.slice();return s[7]=e[n],s}function In(t){let e,n;return e=new Wn({props:{bike:t[7]}}),e.$on("click",(function(...e){return t[2](t[7],...e)})),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(n,s){t=n;const i={};1&s&&(i.bike=t[7]),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function zn(t){let e,n,s,i,o,l=t[0],r=[];for(let e=0;e<l.length;e+=1)r[e]=In(qn(t,l,e));const c=t=>pt(r[t],1,1,()=>{r[t]=null});return{c(){e=y("div"),n=y("div");for(let t=0;t<r.length;t+=1)r[t].c();W(n,"class","content svelte-ux39qb"),W(e,"class","back svelte-ux39qb")},m(l,c){b(l,e,c),v(e,n);for(let t=0;t<r.length;t+=1)r[t].m(n,null);s=!0,i||(o=N(e,"click",t[3]),i=!0)},p(t,[e]){if(3&e){let s;for(l=t[0],s=0;s<l.length;s+=1){const i=qn(t,l,s);r[s]?(r[s].p(i,e),ht(r[s],1)):(r[s]=In(i),r[s].c(),ht(r[s],1),r[s].m(n,null))}for(dt(),s=l.length;s<r.length;s+=1)c(s);ft()}},i(t){if(!s){for(let t=0;t<l.length;t+=1)ht(r[t]);s=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)pt(r[t]);s=!1},d(t){t&&w(e),x(r,t),i=!1,o()}}}function Mn(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(i,o){function l(t){try{c(s.next(t))}catch(t){o(t)}}function r(t){try{c(s.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,r)}c((s=s.apply(t,e||[])).next())}))};const i=U(),o=new he("Custom","img/gear.svg","Your custom settings",be());let l=[new he("Taurus","img/taurus.svg","A very fast streamliner",new de(30,.09,1.45,.96,.29,.04,"coefficients4.json")),new he("Coral","img/recumbent.svg","A recumbent bike",new de(14,.091,1.45,.97,.32,.6,"coefficients_normal_bike.json")),new he("Road Bike","img/normal.svg","A road bike",new de(7.5,.0786,2.105,.98,.43,.78,"coefficients_normal_bike.json"))];function r(t){console.log(t),i("message",{text:t})}H(()=>s(void 0,void 0,void 0,(function*(){n(0,l=function(t){let e,n=[],s=t.length;for(;s;)e=Math.floor(Math.random()*t.length),e in t&&(n.push(t[e]),delete t[e],s--);return n}(l)),l.push(o)})));return[l,r,t=>r(t),()=>r(null)]}class Bn extends Ct{constructor(t){super(),_t(this,t,Mn,zn,r,{})}}function jn(t){let e,n,s,i,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,q,I,B,j,E,O,P,D,R,A,T,L,H,F,U,Y,G,V,J,K,Z,X,Q,tt,nt,st,it,ot,lt,rt,ct,at,ut,dt,ft,ht,pt,gt,$t,vt,bt,wt,xt,yt,kt,_t,Ct,St,Nt,Wt,qt,It,zt,Mt,Bt,jt,Et,Ot,Pt,Dt,Rt,At,Tt;return{c(){e=y("nav"),n=y("div"),s=y("label"),s.textContent="Your settings:",i=C(),l=y("label"),r=_("Rider weight: "),c=_(t[2]),a=_("kg"),u=C(),d=y("input"),f=C(),h=y("label"),p=_("Rider height: "),g=_(t[10]),m=_("cm"),$=C(),x=y("input"),k=C(),S=y("label"),q=_("Air Density: "),I=_(t[7]),B=C(),j=y("input"),E=C(),O=y("hr"),P=C(),D=y("div"),R=y("label"),R.textContent="Your custom streamliner settings:",A=C(),T=y("label"),L=_("Bike weight: "),H=_(t[1]),F=_("kg"),U=C(),Y=y("input"),G=C(),V=y("label"),J=_("Wheels Inertia: "),K=_(t[3]),Z=C(),X=y("input"),Q=C(),tt=y("label"),nt=_("Efficiency: "),st=_(t[5]),it=C(),ot=y("input"),lt=C(),rt=y("label"),ct=_("Wheels Circumference: "),at=_(t[4]),ut=_("m"),dt=C(),ft=y("input"),ht=C(),pt=y("label"),gt=_("Area: "),$t=_(t[6]),vt=_("mÂ²"),bt=C(),wt=y("input"),xt=C(),yt=y("label"),kt=_("Cd @120km/h: "),_t=_(t[9]),Ct=C(),St=y("input"),Nt=C(),Wt=y("hr"),qt=C(),It=y("div"),zt=y("label"),zt.textContent="Software settings:",Mt=C(),Bt=y("label"),Bt.textContent="Debug:",jt=C(),Et=y("input"),Ot=C(),Pt=y("button"),Pt.textContent="Save",W(s,"class","group_label svelte-1bgpqn1"),W(l,"for","rider_weight"),W(d,"class","slider svelte-1bgpqn1"),W(d,"id","rider_weight"),W(d,"type","range"),W(d,"step","0.5"),W(d,"min","40"),W(d,"max","100"),W(h,"for","rider_height"),W(x,"class","slider svelte-1bgpqn1"),W(x,"id","rider_height"),W(x,"type","range"),W(x,"step","1"),W(x,"min","100"),W(x,"max","250"),W(S,"for","air_density"),W(j,"class","slider svelte-1bgpqn1"),W(j,"id","air_density"),W(j,"type","range"),W(j,"step","0.0001"),W(j,"min","0.8"),W(j,"max","1.2"),W(n,"class","sliders_div svelte-1bgpqn1"),W(O,"class","solid svelte-1bgpqn1"),W(R,"class","group_label svelte-1bgpqn1"),W(T,"for","bike_weight"),W(Y,"class","slider svelte-1bgpqn1"),W(Y,"id","bike_weight"),W(Y,"type","range"),W(Y,"min","1"),W(Y,"max","200"),W(V,"for","wheels_inertia"),W(X,"class","slider svelte-1bgpqn1"),W(X,"id","wheels_inertia"),W(X,"type","range"),W(X,"step","0.001"),W(X,"min","0.001"),W(X,"max","0.1"),W(tt,"for","efficiency"),W(ot,"class","slider svelte-1bgpqn1"),W(ot,"id","efficiency"),W(ot,"type","range"),W(ot,"step","0.01"),W(ot,"min","0.8"),W(ot,"max","1"),W(rt,"for","wheels_circumference"),W(ft,"class","slider svelte-1bgpqn1"),W(ft,"id","wheels_circumference"),W(ft,"type","range"),W(ft,"step","0.001"),W(ft,"min","1"),W(ft,"max","2.5"),W(pt,"for","area"),W(wt,"class","slider svelte-1bgpqn1"),W(wt,"id","area"),W(wt,"type","range"),W(wt,"step","0.00001"),W(wt,"min","0"),W(wt,"max","2"),W(yt,"for","cx"),W(St,"class","slider svelte-1bgpqn1"),W(St,"id","cx"),W(St,"type","range"),W(St,"step","0.0001"),W(St,"min","0.02"),W(St,"max","1.2"),W(D,"class","sliders_div svelte-1bgpqn1"),W(Wt,"class","solid svelte-1bgpqn1"),W(zt,"class","group_label svelte-1bgpqn1"),W(Bt,"class","checkbox svelte-1bgpqn1"),W(Bt,"for","debug"),W(Et,"class","checkbox svelte-1bgpqn1"),W(Et,"id","debug"),W(Et,"type","checkbox"),W(It,"class","sliders_div svelte-1bgpqn1"),W(Pt,"class","svelte-1bgpqn1"),W(e,"class","svelte-1bgpqn1")},m(o,w){b(o,e,w),v(e,n),v(n,s),v(n,i),v(n,l),v(l,r),v(l,c),v(l,a),v(n,u),v(n,d),M(d,t[2]),v(n,f),v(n,h),v(h,p),v(h,g),v(h,m),v(n,$),v(n,x),M(x,t[10]),v(n,k),v(n,S),v(S,q),v(S,I),v(n,B),v(n,j),M(j,t[7]),v(e,E),v(e,O),v(e,P),v(e,D),v(D,R),v(D,A),v(D,T),v(T,L),v(T,H),v(T,F),v(D,U),v(D,Y),M(Y,t[1]),v(D,G),v(D,V),v(V,J),v(V,K),v(D,Z),v(D,X),M(X,t[3]),v(D,Q),v(D,tt),v(tt,nt),v(tt,st),v(D,it),v(D,ot),M(ot,t[5]),v(D,lt),v(D,rt),v(rt,ct),v(rt,at),v(rt,ut),v(D,dt),v(D,ft),M(ft,t[4]),v(D,ht),v(D,pt),v(pt,gt),v(pt,$t),v(pt,vt),v(D,bt),v(D,wt),M(wt,t[6]),v(D,xt),v(D,yt),v(yt,kt),v(yt,_t),v(D,Ct),v(D,St),M(St,t[9]),v(e,Nt),v(e,Wt),v(e,qt),v(e,It),v(It,zt),v(It,Mt),v(It,Bt),v(It,jt),v(It,Et),Et.checked=t[8],v(e,Ot),v(e,Pt),Rt=!0,At||(Tt=[N(d,"change",t[12]),N(d,"input",t[12]),N(x,"change",t[13]),N(x,"input",t[13]),N(j,"change",t[14]),N(j,"input",t[14]),N(Y,"change",t[15]),N(Y,"input",t[15]),N(X,"change",t[16]),N(X,"input",t[16]),N(ot,"change",t[17]),N(ot,"input",t[17]),N(ft,"change",t[18]),N(ft,"input",t[18]),N(wt,"change",t[19]),N(wt,"input",t[19]),N(St,"change",t[20]),N(St,"input",t[20]),N(Et,"change",t[21]),N(Pt,"click",t[11])],At=!0)},p(t,e){(!Rt||4&e)&&z(c,t[2]),4&e&&M(d,t[2]),(!Rt||1024&e)&&z(g,t[10]),1024&e&&M(x,t[10]),(!Rt||128&e)&&z(I,t[7]),128&e&&M(j,t[7]),(!Rt||2&e)&&z(H,t[1]),2&e&&M(Y,t[1]),(!Rt||8&e)&&z(K,t[3]),8&e&&M(X,t[3]),(!Rt||32&e)&&z(st,t[5]),32&e&&M(ot,t[5]),(!Rt||16&e)&&z(at,t[4]),16&e&&M(ft,t[4]),(!Rt||64&e)&&z($t,t[6]),64&e&&M(wt,t[6]),(!Rt||512&e)&&z(_t,t[9]),512&e&&M(St,t[9]),256&e&&(Et.checked=t[8])},i(t){Rt||(et(()=>{Dt||(Dt=mt(e,ee,{x:250,opacity:1},!0)),Dt.run(1)}),Rt=!0)},o(t){Dt||(Dt=mt(e,ee,{x:250,opacity:1},!1)),Dt.run(0),Rt=!1},d(t){t&&w(e),t&&Dt&&Dt.end(),At=!1,o(Tt)}}}function En(t){let e,n,s=t[0]&&jn(t);return{c(){s&&s.c(),e=S()},m(t,i){s&&s.m(t,i),b(t,e,i),n=!0},p(t,[n]){t[0]?s?(s.p(t,n),1&n&&ht(s,1)):(s=jn(t),s.c(),ht(s,1),s.m(e.parentNode,e)):s&&(dt(),pt(s,1,1,()=>{s=null}),ft())},i(t){n||(ht(s),n=!0)},o(t){pt(s),n=!1},d(t){s&&s.d(t),t&&w(e)}}}function On(t,e,n){let s,i,o,l,r,c,a,u,d,f,h,p,{show:g=!1}=e,m=!1;return H(()=>{s=be(),i=we(),m=ve(),n(1,o=s.bikeWeight),n(2,l=i.riderWeight),n(10,p=i.riderHeight),n(3,r=s.wheelsInertia),n(4,c=s.wheelsCircumference),n(5,a=s.efficiency),n(6,u=s.area),n(7,d=i.rho),n(9,h=s.cx),n(8,f=m)}),t.$set=t=>{"show"in t&&n(0,g=t.show)},[g,o,l,r,c,a,u,d,f,h,p,function(){var t;t=new de(o,r,c,a,u,h,"coefficients4.json"),localStorage.setItem("bike_settings",JSON.stringify(t)),(t=>{localStorage.setItem("debug",t)})(f),(t=>{localStorage.setItem("user_settings",JSON.stringify(t))})(new fe(l,p,d)),n(0,g=!1),f!==m&&window.location.reload()},function(){l=I(this.value),n(2,l)},function(){p=I(this.value),n(10,p)},function(){d=I(this.value),n(7,d)},function(){o=I(this.value),n(1,o)},function(){r=I(this.value),n(3,r)},function(){a=I(this.value),n(5,a)},function(){c=I(this.value),n(4,c)},function(){u=I(this.value),n(6,u)},function(){h=I(this.value),n(9,h)},function(){f=this.checked,n(8,f)}]}class Pn extends Ct{constructor(t){super(),_t(this,t,On,En,r,{show:0})}}function Dn(t){let e;function n(t,e){return t[1]>550?An:Rn}let s=n(t),i=s(t);return{c(){e=y("table"),i.c(),W(e,"class","svelte-b2kukf")},m(t,n){b(t,e,n),i.m(e,null)},p(t,o){s===(s=n(t))&&i?i.p(t,o):(i.d(1),i=s(t),i&&(i.c(),i.m(e,null)))},d(t){t&&w(e),i.d()}}}function Rn(t){let e,n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,N,q,I,M,B,j,E,O,P,D,R,A,T,L,H,F,U,Y,G,V,J,K,Z,X,Q=t[0].bikeSettings.bikeWeight+"",tt=t[0].bikeSettings.wheelsInertia+"",et=t[0].bikeSettings.wheelsCircumference+"",nt=t[0].bikeSettings.efficiency+"",st=t[0].bikeSettings.area+"",it=t[0].userSettings.rho+"",ot=t[0].bikeSettings.cx+"";return{c(){e=y("tr"),n=y("th"),n.textContent="Bike Weight",s=C(),i=y("td"),o=_(Q),l=_("kg"),r=C(),c=y("tr"),a=y("th"),a.textContent="Wheels Inertia",u=C(),d=y("td"),f=_(tt),h=C(),p=y("tr"),g=y("th"),g.textContent="Wheels Circumference",m=C(),$=y("td"),x=_(et),k=_("m"),S=C(),N=y("tr"),q=y("th"),q.textContent="Efficiency",I=C(),M=y("td"),B=_(nt),j=C(),E=y("tr"),O=y("th"),O.textContent="Area",P=C(),D=y("td"),R=_(st),A=_("mÂ²"),T=C(),L=y("tr"),H=y("th"),H.textContent="Rho",F=C(),U=y("td"),Y=_(it),G=C(),V=y("tr"),J=y("th"),J.textContent="Cd@120km/h",K=C(),Z=y("td"),X=_(ot),W(n,"class","svelte-b2kukf"),W(a,"class","svelte-b2kukf"),W(g,"class","svelte-b2kukf"),W(q,"class","svelte-b2kukf"),W(O,"class","svelte-b2kukf"),W(H,"class","svelte-b2kukf"),W(J,"class","svelte-b2kukf")},m(t,w){b(t,e,w),v(e,n),v(e,s),v(e,i),v(i,o),v(i,l),b(t,r,w),b(t,c,w),v(c,a),v(c,u),v(c,d),v(d,f),b(t,h,w),b(t,p,w),v(p,g),v(p,m),v(p,$),v($,x),v($,k),b(t,S,w),b(t,N,w),v(N,q),v(N,I),v(N,M),v(M,B),b(t,j,w),b(t,E,w),v(E,O),v(E,P),v(E,D),v(D,R),v(D,A),b(t,T,w),b(t,L,w),v(L,H),v(L,F),v(L,U),v(U,Y),b(t,G,w),b(t,V,w),v(V,J),v(V,K),v(V,Z),v(Z,X)},p(t,e){1&e&&Q!==(Q=t[0].bikeSettings.bikeWeight+"")&&z(o,Q),1&e&&tt!==(tt=t[0].bikeSettings.wheelsInertia+"")&&z(f,tt),1&e&&et!==(et=t[0].bikeSettings.wheelsCircumference+"")&&z(x,et),1&e&&nt!==(nt=t[0].bikeSettings.efficiency+"")&&z(B,nt),1&e&&st!==(st=t[0].bikeSettings.area+"")&&z(R,st),1&e&&it!==(it=t[0].userSettings.rho+"")&&z(Y,it),1&e&&ot!==(ot=t[0].bikeSettings.cx+"")&&z(X,ot)},d(t){t&&w(e),t&&w(r),t&&w(c),t&&w(h),t&&w(p),t&&w(S),t&&w(N),t&&w(j),t&&w(E),t&&w(T),t&&w(L),t&&w(G),t&&w(V)}}}function An(t){let e,n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,N,W,q,I,M,B,j=t[0].bikeSettings.bikeWeight+"",E=t[0].bikeSettings.wheelsInertia+"",O=t[0].bikeSettings.wheelsCircumference+"",P=t[0].bikeSettings.efficiency+"",D=t[0].bikeSettings.area+"",R=t[0].userSettings.rho+"",A=t[0].bikeSettings.cx+"";return{c(){e=y("tr"),e.innerHTML='<th class="svelte-b2kukf">Bike Weight</th> \n            <th class="svelte-b2kukf">Wheels Inertia</th> \n            <th class="svelte-b2kukf">Wheels Circumference</th> \n            <th class="svelte-b2kukf">Efficiency</th> \n            <th class="svelte-b2kukf">Area</th> \n            <th class="svelte-b2kukf">Rho</th> \n            <th class="svelte-b2kukf">Cd@120km/h</th>',n=C(),s=y("tr"),i=y("td"),o=_(j),l=_("kg"),r=C(),c=y("td"),a=_(E),u=C(),d=y("td"),f=_(O),h=_("m"),p=C(),g=y("td"),m=_(P),$=C(),x=y("td"),k=_(D),S=_("mÂ²"),N=C(),W=y("td"),q=_(R),I=C(),M=y("td"),B=_(A)},m(t,w){b(t,e,w),b(t,n,w),b(t,s,w),v(s,i),v(i,o),v(i,l),v(s,r),v(s,c),v(c,a),v(s,u),v(s,d),v(d,f),v(d,h),v(s,p),v(s,g),v(g,m),v(s,$),v(s,x),v(x,k),v(x,S),v(s,N),v(s,W),v(W,q),v(s,I),v(s,M),v(M,B)},p(t,e){1&e&&j!==(j=t[0].bikeSettings.bikeWeight+"")&&z(o,j),1&e&&E!==(E=t[0].bikeSettings.wheelsInertia+"")&&z(a,E),1&e&&O!==(O=t[0].bikeSettings.wheelsCircumference+"")&&z(f,O),1&e&&P!==(P=t[0].bikeSettings.efficiency+"")&&z(m,P),1&e&&D!==(D=t[0].bikeSettings.area+"")&&z(k,D),1&e&&R!==(R=t[0].userSettings.rho+"")&&z(q,R),1&e&&A!==(A=t[0].bikeSettings.cx+"")&&z(B,A)},d(t){t&&w(e),t&&w(n),t&&w(s)}}}function Tn(e){let n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,q,I,M,j,E,O,P=Math.trunc(e[0].speed)+"",D=Math.round(100*(e[0].speed-Math.trunc(e[0].speed)))+"",R=e[0].bikeName+"",A=e[0].firstName+"",T=e[0].lastName+"",L=e[0].time+"",H=e[0].date+"",F=e[0].expanded&&Dn(e);return{c(){n=y("div"),s=y("div"),i=y("div"),o=y("span"),l=y("em"),r=_(P),c=_("\n        ."),a=_(D),u=_(" km/h"),d=C(),f=y("span"),h=_(R),p=C(),g=y("span"),m=_(A),$=C(),x=_(T),k=C(),F&&F.c(),S=C(),q=y("span"),I=_(L),M=C(),j=_(H),W(l,"class","big svelte-b2kukf"),W(o,"class","middle_top svelte-b2kukf"),W(f,"class","middle_bottom svelte-b2kukf"),W(i,"class","left30 svelte-b2kukf"),W(g,"class","top right svelte-b2kukf"),W(q,"class","right bottom svelte-b2kukf"),W(s,"class","container svelte-b2kukf"),B(s,"--div-height",e[2])},m(t,w){b(t,n,w),v(n,s),v(s,i),v(i,o),v(o,l),v(l,r),v(o,c),v(o,a),v(o,u),v(i,d),v(i,f),v(f,h),v(s,p),v(s,g),v(g,m),v(g,$),v(g,x),v(s,k),F&&F.m(s,null),v(s,S),v(s,q),v(q,I),v(q,M),v(q,j),E||(O=N(s,"click",e[3]),E=!0)},p(t,[e]){1&e&&P!==(P=Math.trunc(t[0].speed)+"")&&z(r,P),1&e&&D!==(D=Math.round(100*(t[0].speed-Math.trunc(t[0].speed)))+"")&&z(a,D),1&e&&R!==(R=t[0].bikeName+"")&&z(h,R),1&e&&A!==(A=t[0].firstName+"")&&z(m,A),1&e&&T!==(T=t[0].lastName+"")&&z(x,T),t[0].expanded?F?F.p(t,e):(F=Dn(t),F.c(),F.m(s,S)):F&&(F.d(1),F=null),1&e&&L!==(L=t[0].time+"")&&z(I,L),1&e&&H!==(H=t[0].date+"")&&z(j,H),4&e&&B(s,"--div-height",t[2])},i:t,o:t,d(t){t&&w(n),F&&F.d(),E=!1,O()}}}function Ln(t,e,n){let{result:s}=e,i=window.innerWidth<550?"150px":"100px",o=window.innerWidth<550?"330px":"200px",l=window.innerWidth;window.onresize=function(){n(4,i=window.innerWidth<550?"150px":"100px"),n(5,o=window.innerWidth<550?"330px":"200px"),n(1,l=window.innerWidth),n(2,r=s.expanded?o:i),console.log(i)};let r=s.expanded?o:i;return t.$set=t=>{"result"in t&&n(0,s=t.result)},t.$$.update=()=>{49&t.$$.dirty&&n(2,r=s.expanded?o:i),4&t.$$.dirty&&console.log("H:",r)},[s,l,r,function(e){V(t,e)}]}class Hn extends Ct{constructor(t){super(),_t(this,t,Ln,Tn,r,{result:0})}}function Fn(t,e,n){const s=t.slice();return s[3]=e[n],s}function Un(t){let e,n;return e=new Hn({props:{result:t[3]}}),e.$on("click",(function(...e){return t[2](t[3],...e)})),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(n,s){t=n;const i={};1&s&&(i.result=t[3]),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Yn(t){let e,n,s,i,o,l=t[0],r=[];for(let e=0;e<l.length;e+=1)r[e]=Un(Fn(t,l,e));const c=t=>pt(r[t],1,1,()=>{r[t]=null});return{c(){e=y("div"),n=y("h1"),n.textContent="Results",s=C(),i=y("div");for(let t=0;t<r.length;t+=1)r[t].c();W(n,"class","svelte-iun13g"),W(i,"class","scroller svelte-iun13g"),W(e,"class","container svelte-iun13g")},m(t,l){b(t,e,l),v(e,n),v(e,s),v(e,i);for(let t=0;t<r.length;t+=1)r[t].m(i,null);o=!0},p(t,[e]){if(3&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const s=Fn(t,l,n);r[n]?(r[n].p(s,e),ht(r[n],1)):(r[n]=Un(s),r[n].c(),ht(r[n],1),r[n].m(i,null))}for(dt(),n=l.length;n<r.length;n+=1)c(n);ft()}},i(t){if(!o){for(let t=0;t<l.length;t+=1)ht(r[t]);o=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)pt(r[t]);o=!1},d(t){t&&w(e),x(r,t)}}}function Gn(t,e,n){const s=t=>{const e=t.expanded;i.forEach(t=>t.expanded=!1),t.expanded=!e,n(0,i=[...i])};let i=[];H(()=>{fetch("https://www.policumbent.it/whpsc_sim_backend/results.php",{cache:"no-store"}).then(t=>t.json()).then(t=>{let e=[];return t.forEach(t=>{const n=new de(t.bikeSettings.bikeWeight,t.bikeSettings.wheelsInertia,t.bikeSettings.wheelsCircumference,t.bikeSettings.efficiency,t.bikeSettings.area,t.bikeSettings.cx,void 0),s=new fe(void 0,void 0,t.bikeSettings.rho);e.push(new un(t.speed,n.power,n,s,t.bikeName,t.firstName,t.lastName,"",t.timestamp))}),n(0,i=e.sort((t,e)=>e.datetime.getTime()-t.datetime.getTime())),e[0].expanded=!0,e})});return[i,s,t=>s(t)]}class Vn extends Ct{constructor(t){super(),_t(this,t,Gn,Yn,r,{})}}function Jn(e){let n,s=e[1]()+"";return{c(){n=_(s)},m(t,e){b(t,n,e)},p:t,d(t){t&&w(n)}}}function Kn(e){let n,s=e[0]&&Jn(e);return{c(){s&&s.c(),n=S()},m(t,e){s&&s.m(t,e),b(t,n,e)},p(t,[e]){t[0]?s?s.p(t,e):(s=Jn(t),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&w(n)}}}function Zn(t,e,n){const{open:s}=G("simple-modal");let{show:i}=e;return t.$set=t=>{"show"in t&&n(0,i=t.show)},[i,function(){s(Vn,{},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!0}),n(0,i=!1)}]}class Xn extends Ct{constructor(t){super(),_t(this,t,Zn,Kn,r,{show:0})}}let Qn=require("ant-plus"),ts=new Qn.GarminStick2,es=!1,ns=!1,ss=!1,is=!1,os=new Qn.BicyclePowerSensor(ts),ls=new Qn.BicyclePowerScanner(ts),rs=0;async function cs(){if(xe=[],console.log("sensor connected: ",ss),es||ns){if(ss)return os.detach(),void(is=!0);console.log("start_search"),ls.scan()}}function as(){return console.log("sensorConnected: ",ss),ss}os.on("attached",()=>{console.log(rs,"power sensor attached"),ss=!0}),os.on("detached",()=>{console.log(rs,"power sensor detached"),ss=!1,is&&(is=!1,ls.scan())}),ls.on("attached",()=>{console.log(rs,"power scanner attached"),ns=!0}),ls.on("detached",()=>{console.log(rs,"power scanner detached"),ns=!1,0!==rs&&os.attach(0,rs)}),os.on("powerData",t=>{const e=void 0===t.Power?t.CalculatedPower:t.Power;ge.set(Math.round(e))}),ts.open()?console.log("Stick connected!"):console.log("Stick not found!"),ls.on("powerData",t=>{var e;e=t.DeviceID,-1===xe.findIndex(t=>t===e)&&xe.push(e)}),ts.on("startup",(function(){es=!0}));const us=(t,e=0)=>[...Array(t).keys()].map(t=>t+e);function ds(t,e,n){const s=t.slice();return s[3]=e[n],s}function fs(t){let e;return{c(){e=y("div"),W(e,"class","dot svelte-1cgjo2e"),B(e,"--dotSize",.25*t[0]+t[2]),B(e,"--color",t[1]),B(e,"animation-delay",.07*t[3]+"s")},m(t,n){b(t,e,n)},p(t,n){5&n&&B(e,"--dotSize",.25*t[0]+t[2]),2&n&&B(e,"--color",t[1])},d(t){t&&w(e)}}}function hs(e){let n,s=us(3,1),i=[];for(let t=0;t<s.length;t+=1)i[t]=fs(ds(e,s,t));return{c(){n=y("div");for(let t=0;t<i.length;t+=1)i[t].c();W(n,"class","wrapper svelte-1cgjo2e"),B(n,"--size",e[0]+e[2])},m(t,e){b(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(7&e){let o;for(s=us(3,1),o=0;o<s.length;o+=1){const l=ds(t,s,o);i[o]?i[o].p(l,e):(i[o]=fs(l),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=s.length}5&e&&B(n,"--size",t[0]+t[2])},i:t,o:t,d(t){t&&w(n),x(i,t)}}}function ps(t,e,n){let{size:s=60}=e,{color:i="#FF3E00"}=e,{unit:o="px"}=e;return t.$set=t=>{"size"in t&&n(0,s=t.size),"color"in t&&n(1,i=t.color),"unit"in t&&n(2,o=t.unit)},[s,i,o]}class gs extends Ct{constructor(t){super(),_t(this,t,ps,hs,r,{size:0,color:1,unit:2})}}function ms(e){let n,s,i,o;return{c(){n=y("span"),n.textContent="Detach",s=C(),i=y("img"),W(n,"class","detach svelte-1kkpgn3"),W(i,"class","trash image svelte-1kkpgn3"),i.src!==(o="img/trash.svg")&&W(i,"src","img/trash.svg"),W(i,"alt","")},m(t,e){b(t,n,e),b(t,s,e),b(t,i,e)},p:t,d(t){t&&w(n),t&&w(s),t&&w(i)}}}function $s(t){let e,n,s,i,o,l,r,c;return{c(){e=y("span"),n=_("Sensor id:"),s=y("em"),i=y("em"),o=_(t[0]),l=C(),r=y("img"),W(s,"class","space svelte-1kkpgn3"),W(i,"class","svelte-1kkpgn3"),W(e,"class","svelte-1kkpgn3"),W(r,"class","image svelte-1kkpgn3"),r.src!==(c="img/power.svg")&&W(r,"src","img/power.svg"),W(r,"alt","")},m(t,c){b(t,e,c),v(e,n),v(e,s),v(e,i),v(i,o),b(t,l,c),b(t,r,c)},p(t,e){1&e&&z(o,t[0])},d(t){t&&w(e),t&&w(l),t&&w(r)}}}function vs(e){let n,s,i,o;function l(t,e){return-1!==t[0]?$s:ms}let r=l(e),c=r(e);return{c(){n=y("div"),s=y("div"),c.c(),W(s,"class","container svelte-1kkpgn3")},m(t,l){b(t,n,l),v(n,s),c.m(s,null),i||(o=N(s,"click",e[1]),i=!0)},p(t,[e]){r===(r=l(t))&&c?c.p(t,e):(c.d(1),c=r(t),c&&(c.c(),c.m(s,null)))},i:t,o:t,d(t){t&&w(n),c.d(),i=!1,o()}}}function bs(t,e,n){let{sensorId:s}=e;return t.$set=t=>{"sensorId"in t&&n(0,s=t.sensorId)},[s,function(e){V(t,e)}]}class ws extends Ct{constructor(t){super(),_t(this,t,bs,vs,r,{sensorId:0})}}function xs(t,e,n){const s=t.slice();return s[7]=e[n],s}function ys(t){let e,n;return e=new ws({props:{sensorId:t[7]}}),e.$on("click",(function(...e){return t[3](t[7],...e)})),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(n,s){t=n;const i={};1&s&&(i.sensorId=t[7]),e.$set(i)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function ks(t){let e,n,s;return n=new gs({props:{size:"60",color:"#FF3E00",unit:"px"}}),{c(){e=y("div"),wt(n.$$.fragment),W(e,"class","loading svelte-3t0qrk")},m(t,i){b(t,e,i),xt(n,e,null),s=!0},i(t){s||(ht(n.$$.fragment,t),s=!0)},o(t){pt(n.$$.fragment,t),s=!1},d(t){t&&w(e),yt(n)}}}function _s(e){let n,s,i,o,l,r,c,a=as(),u=a&&function(e){let n,s;return n=new ws({props:{sensorId:-1}}),n.$on("click",e[2]),{c(){wt(n.$$.fragment)},m(t,e){xt(n,t,e),s=!0},p:t,i(t){s||(ht(n.$$.fragment,t),s=!0)},o(t){pt(n.$$.fragment,t),s=!1},d(t){yt(n,t)}}}(e),d=e[0],f=[];for(let t=0;t<d.length;t+=1)f[t]=ys(xs(e,d,t));const h=t=>pt(f[t],1,1,()=>{f[t]=null});let p=0===e[0].length&&ks();return{c(){n=y("div"),s=y("h1"),s.textContent="Search ANT sensors",i=C(),o=y("div"),u&&u.c(),l=C();for(let t=0;t<f.length;t+=1)f[t].c();r=C(),p&&p.c(),W(s,"class","svelte-3t0qrk"),W(o,"class","content svelte-3t0qrk"),W(n,"class","svelte-3t0qrk")},m(t,e){b(t,n,e),v(n,s),v(n,i),v(n,o),u&&u.m(o,null),v(o,l);for(let t=0;t<f.length;t+=1)f[t].m(o,null);v(o,r),p&&p.m(o,null),c=!0},p(t,[e]){if(a&&u.p(t,e),3&e){let n;for(d=t[0],n=0;n<d.length;n+=1){const s=xs(t,d,n);f[n]?(f[n].p(s,e),ht(f[n],1)):(f[n]=ys(s),f[n].c(),ht(f[n],1),f[n].m(o,r))}for(dt(),n=d.length;n<f.length;n+=1)h(n);ft()}0===t[0].length?p?1&e&&ht(p,1):(p=ks(),p.c(),ht(p,1),p.m(o,null)):p&&(dt(),pt(p,1,1,()=>{p=null}),ft())},i(t){if(!c){ht(u);for(let t=0;t<d.length;t+=1)ht(f[t]);ht(p),c=!0}},o(t){pt(u),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)pt(f[t]);pt(p),c=!1},d(t){t&&w(n),u&&u.d(),x(f,t),p&&p.d()}}}function Cs(t,e,n){const{close:s}=G("simple-modal");let i,o=[];function l(){n(0,o=ye())}function r(t){!function(t=0){es&&(ns&&ls.detach(),rs=t)}(t),s()}H(()=>{cs(),i=setInterval(l,1e3)}),F(()=>{console.log("stop search"),console.log(es),es&&ns&&ls.detach(),clearInterval(i)});return[o,r,()=>r(0),t=>r(t)]}class Ss extends Ct{constructor(t){super(),_t(this,t,Cs,_s,r,{})}}function Ns(t,e,n){const{open:s,close:i}=G("simple-modal");let{show:o}=e,{connected:l}=e;return t.$set=t=>{"show"in t&&n(0,o=t.show),"connected"in t&&n(1,l=t.connected)},t.$$.update=()=>{1&t.$$.dirty&&o&&(s(Ss,{},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!0},{onClosed:()=>n(1,l=as())}),n(0,o=!1))},[o,l]}class Ws extends Ct{constructor(t){super(),_t(this,t,Ns,null,r,{show:0,connected:1})}}function qs(e){let n,s;return n=new Bn({}),n.$on("message",e[8]),{c(){wt(n.$$.fragment)},m(t,e){xt(n,t,e),s=!0},p:t,i(t){s||(ht(n.$$.fragment,t),s=!0)},o(t){pt(n.$$.fragment,t),s=!1},d(t){yt(n,t)}}}function Is(t){let e,n,s;function i(e){t[13].call(null,e)}let o={};return void 0!==t[3]&&(o.show=t[3]),e=new Xn({props:o}),K.push(()=>bt(e,"show",i)),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,s){const i={};!n&&8&s&&(n=!0,i.show=t[3],nt(()=>n=!1)),e.$set(i)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function zs(t){let e,n,s,i;function o(e){t[14].call(null,e)}function l(e){t[15].call(null,e)}let r={};return void 0!==t[5]&&(r.connected=t[5]),void 0!==t[2]&&(r.show=t[2]),e=new Ws({props:r}),K.push(()=>bt(e,"connected",o)),K.push(()=>bt(e,"show",l)),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),i=!0},p(t,i){const o={};!n&&32&i&&(n=!0,o.connected=t[5],nt(()=>n=!1)),!s&&4&i&&(s=!0,o.show=t[2],nt(()=>s=!1)),e.$set(o)},i(t){i||(ht(e.$$.fragment,t),i=!0)},o(t){pt(e.$$.fragment,t),i=!1},d(t){yt(e,t)}}}function Ms(t){let e,n,s,i,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,q,I,z,M,B,j,E,O,P,D,R,A;function T(e){t[10].call(null,e)}let L={};void 0!==t[0]&&(L.show=t[0]),e=new Pn({props:L}),K.push(()=>bt(e,"show",T)),a=new Kt({props:{class:"top-right-fixed",data:Xt,scale:"2"}});let H=t[1]&&qs(t);return B=new ce({props:{$$slots:{default:[Is]},$$scope:{ctx:t}}}),E=new ce({props:{$$slots:{default:[zs]},$$scope:{ctx:t}}}),{c(){wt(e.$$.fragment),s=C(),i=y("section"),l=y("h1"),l.textContent="WHPSC Simulator",r=C(),c=y("span"),wt(a.$$.fragment),u=C(),d=y("button"),f=_("Start"),p=C(),g=y("button"),g.textContent="Results",m=C(),$=y("div"),x=y("button"),k=_("BT powermeter"),S=C(),q=y("button"),I=_("ANT powermeter"),z=C(),H&&H.c(),M=C(),wt(B.$$.fragment),j=C(),wt(E.$$.fragment),O=C(),P=y("button"),P.textContent="Survey",W(l,"class","svelte-5rhwfh"),W(c,"class","top-right-fixed click_t svelte-5rhwfh"),W(d,"class","btn svelte-5rhwfh"),d.disabled=h=!(t[4]||t[5]||ve()),W(g,"class","btn svelte-5rhwfh"),W(x,"class","btn svelte-5rhwfh"),x.disabled=t[5],W(q,"class","btn svelte-5rhwfh"),q.disabled=t[4],W(P,"class","survey btn svelte-5rhwfh"),W(i,"class","svelte-5rhwfh")},m(n,o){xt(e,n,o),b(n,s,o),b(n,i,o),v(i,l),v(i,r),v(i,c),xt(a,c,null),v(i,u),v(i,d),v(d,f),v(i,p),v(i,g),v(i,m),v(i,$),v($,x),v(x,k),v($,S),v($,q),v(q,I),v(i,z),H&&H.m(i,null),v(i,M),xt(B,i,null),v(i,j),xt(E,i,null),v(i,O),v(i,P),D=!0,R||(A=[N(c,"click",t[11]),N(d,"click",t[6]),N(g,"click",t[7]),N(x,"click",t[9]),N(q,"click",t[12]),N(P,"click",t[16])],R=!0)},p(t,[s]){const o={};!n&&1&s&&(n=!0,o.show=t[0],nt(()=>n=!1)),e.$set(o),(!D||48&s&&h!==(h=!(t[4]||t[5]||ve())))&&(d.disabled=h),(!D||32&s)&&(x.disabled=t[5]),(!D||16&s)&&(q.disabled=t[4]),t[1]?H?(H.p(t,s),2&s&&ht(H,1)):(H=qs(t),H.c(),ht(H,1),H.m(i,M)):H&&(dt(),pt(H,1,1,()=>{H=null}),ft());const l={};262152&s&&(l.$$scope={dirty:s,ctx:t}),B.$set(l);const r={};262180&s&&(r.$$scope={dirty:s,ctx:t}),E.$set(r)},i(t){D||(ht(e.$$.fragment,t),ht(a.$$.fragment,t),ht(H),ht(B.$$.fragment,t),ht(E.$$.fragment,t),D=!0)},o(t){pt(e.$$.fragment,t),pt(a.$$.fragment,t),pt(H),pt(B.$$.fragment,t),pt(E.$$.fragment,t),D=!1},d(t){yt(e,t),t&&w(s),t&&w(i),yt(a),H&&H.d(),yt(B),yt(E),R=!1,o(A)}}}function Bs(t,e,n){const s=U();let i=!1,o=!1,l=!1,r=!1,c=!1,a=!1;return[i,o,l,r,c,a,function(){n(1,o=!0)},function(){n(3,r=!0)},function(t){n(1,o=!1),null!=t.detail.text&&(console.log(t.detail.text),s("message",{text:t.detail.text}))},function(){(async function(){console.log("Requesting Bluetooth Device...");let t=await navigator.bluetooth.requestDevice({filters:[{services:[6157]},{services:[6168]}]}),e=await t.gatt.connect();console.log(t),console.log(e);let n=void 0,s=void 0;try{s=await e.getPrimaryService(6168)}catch(t){console.log(t)}if(s){let i=await s.getCharacteristic(10851);n=new kn(t,e,s,i),console.log(n),_n=n,n.listen()}s=void 0;try{s=await e.getPrimaryService(6157)}catch(t){console.log(t)}if(s){let i=await s.getCharacteristic(10807);n=new vn(t,e,s,i),Cn=n,console.log(n),n.listen()}return void 0!==_n||void 0!==Cn})().then(t=>n(4,c=t)).catch(t=>{alert("Bluetooth off or this functionality isn't available on this PC."),console.log(t),n(4,c=!1)})},function(t){i=t,n(0,i)},()=>n(0,i=!i),()=>n(2,l=!0),function(t){r=t,n(3,r)},function(t){a=t,n(5,a)},function(t){l=t,n(2,l)},()=>window.open("https://forms.gle/hK2XADnP4FkvjtmD7","_blank")]}class js extends Ct{constructor(t){super(),_t(this,t,Bs,Ms,r,{})}}function Es(t,e,n){const{open:s}=G("simple-modal");return[(t,e,n,i,o)=>{console.log("CONFIG:",i),s(mn,{speed:t,power:e,bikeName:n,config:i,userConfig:o},{closeButton:!0,closeOnEsc:!0,closeOnOuterClick:!1})}]}class Os extends Ct{constructor(t){super(),_t(this,t,Es,null,r,{openModal:0})}get openModal(){return this.$$.ctx[0]}}function Ps(t){let e,n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x,k,S,q,I,M,B,j,E,O,P,D,R,A,T,L,H,F,U,Y,G,V,J,K,Z,X,Q,tt,et,nt,st,it,ot,lt,rt,ct,at,ut,dt,ft,gt,mt,$t,vt,bt,kt,_t,Ct,St,Nt,Wt,qt,It,zt,Mt,Bt,jt,Et,Ot,Pt,Dt,Rt,At,Tt,Lt,Ht,Ft,Ut,Yt,Gt,Vt,Jt,Kt,Zt,Xt,Qt,te,ee,ne,se,ie=t[0].firstName+"",oe=t[0].lastName+"",le=Math.trunc(t[0].speed)+"",re=Math.round(100*(t[0].speed-Math.trunc(t[0].speed)))+"",ce=t[0].bikeSettings.bikeWeight+"",ae=t[0].bikeSettings.wheelsInertia+"",ue=t[0].bikeSettings.wheelsCircumference+"",de=t[0].bikeSettings.efficiency+"",fe=t[0].bikeSettings.area+"",he=t[0].userSettings.rho+"",pe=t[0].bikeSettings.cx+"",ge=t[0].power+"",me=t[0].bikeName+"",$e=t[0].time+"",ve=t[0].date+"";return Lt=new qe({props:{subject:Ds,body:Rs+" "+t[1]}}),Ft=new Te({props:{class:"share-button",title:Ds,url:t[1]}}),Yt=new Pe({props:{class:"share-button",url:t[1]}}),Vt=new Ue({props:{class:"share-button",text:Ds,url:t[1]}}),Kt=new Qe({props:{class:"share-button",text:Ds+" "+t[1]}}),Xt=new Be({props:{class:"share-button",url:t[1]}}),te=new Je({props:{class:"share-button",text:Ds,url:t[1]}}),{c(){e=y("div"),n=y("div"),s=y("h1"),s.textContent="WHPSC Simulator",i=C(),o=y("div"),l=y("h1"),r=_(ie),c=C(),a=_(oe),u=C(),d=y("span"),f=y("em"),h=_(le),p=_("\n                ."),g=_(re),m=_(" km/h"),$=C(),x=y("table"),k=y("tr"),S=y("th"),S.textContent="Bike Weight",q=C(),I=y("td"),M=_(ce),B=_("kg"),j=C(),E=y("tr"),O=y("th"),O.textContent="Wheels Inertia",P=C(),D=y("td"),R=_(ae),A=C(),T=y("tr"),L=y("th"),L.textContent="Wheels Circumference",H=C(),F=y("td"),U=_(ue),Y=_("m"),G=C(),V=y("tr"),J=y("th"),J.textContent="Efficiency",K=C(),Z=y("td"),X=_(de),Q=C(),tt=y("tr"),et=y("th"),et.textContent="Area",nt=C(),st=y("td"),it=_(fe),ot=_("mÂ²"),lt=C(),rt=y("tr"),ct=y("th"),ct.textContent="Rho",at=C(),ut=y("td"),dt=_(he),ft=C(),gt=y("tr"),mt=y("th"),mt.textContent="Cd@120km/h",$t=C(),vt=y("td"),bt=_(pe),kt=C(),_t=y("tr"),Ct=y("th"),Ct.textContent="Average Power",St=C(),Nt=y("td"),Wt=_(ge),qt=_("W"),It=C(),zt=y("span"),Mt=_(me),Bt=C(),jt=y("span"),Et=_($e),Ot=C(),Pt=_(ve),Dt=C(),Rt=y("button"),Rt.textContent="Go to WHPSC simulator",At=C(),Tt=y("div"),wt(Lt.$$.fragment),Ht=C(),wt(Ft.$$.fragment),Ut=C(),wt(Yt.$$.fragment),Gt=C(),wt(Vt.$$.fragment),Jt=C(),wt(Kt.$$.fragment),Zt=C(),wt(Xt.$$.fragment),Qt=C(),wt(te.$$.fragment),W(s,"class","title svelte-1bxcc74"),W(l,"class","svelte-1bxcc74"),W(f,"class","big svelte-1bxcc74"),W(d,"class","middle_top svelte-1bxcc74"),W(S,"class","svelte-1bxcc74"),W(I,"class","svelte-1bxcc74"),W(O,"class","svelte-1bxcc74"),W(D,"class","svelte-1bxcc74"),W(L,"class","svelte-1bxcc74"),W(F,"class","svelte-1bxcc74"),W(J,"class","svelte-1bxcc74"),W(Z,"class","svelte-1bxcc74"),W(et,"class","svelte-1bxcc74"),W(st,"class","svelte-1bxcc74"),W(ct,"class","svelte-1bxcc74"),W(ut,"class","svelte-1bxcc74"),W(mt,"class","svelte-1bxcc74"),W(vt,"class","svelte-1bxcc74"),W(Ct,"class","svelte-1bxcc74"),W(Nt,"class","svelte-1bxcc74"),W(x,"class","svelte-1bxcc74"),W(zt,"class","bike_name svelte-1bxcc74"),W(jt,"class","right timestamp svelte-1bxcc74"),W(o,"class","content svelte-1bxcc74"),W(Rt,"class","btn svelte-1bxcc74"),W(n,"class","container svelte-1bxcc74")},m(t,w){b(t,e,w),v(e,n),v(n,s),v(n,i),v(n,o),v(o,l),v(l,r),v(l,c),v(l,a),v(o,u),v(o,d),v(d,f),v(f,h),v(d,p),v(d,g),v(d,m),v(o,$),v(o,x),v(x,k),v(k,S),v(k,q),v(k,I),v(I,M),v(I,B),v(x,j),v(x,E),v(E,O),v(E,P),v(E,D),v(D,R),v(x,A),v(x,T),v(T,L),v(T,H),v(T,F),v(F,U),v(F,Y),v(x,G),v(x,V),v(V,J),v(V,K),v(V,Z),v(Z,X),v(x,Q),v(x,tt),v(tt,et),v(tt,nt),v(tt,st),v(st,it),v(st,ot),v(x,lt),v(x,rt),v(rt,ct),v(rt,at),v(rt,ut),v(ut,dt),v(x,ft),v(x,gt),v(gt,mt),v(gt,$t),v(gt,vt),v(vt,bt),v(x,kt),v(x,_t),v(_t,Ct),v(_t,St),v(_t,Nt),v(Nt,Wt),v(Nt,qt),v(o,It),v(o,zt),v(zt,Mt),v(o,Bt),v(o,jt),v(jt,Et),v(jt,Ot),v(jt,Pt),v(n,Dt),v(n,Rt),v(n,At),v(n,Tt),xt(Lt,Tt,null),v(Tt,Ht),xt(Ft,Tt,null),v(Tt,Ut),xt(Yt,Tt,null),v(Tt,Gt),xt(Vt,Tt,null),v(Tt,Jt),xt(Kt,Tt,null),v(Tt,Zt),xt(Xt,Tt,null),v(Tt,Qt),xt(te,Tt,null),ee=!0,ne||(se=N(Rt,"click",As),ne=!0)},p(t,[e]){(!ee||1&e)&&ie!==(ie=t[0].firstName+"")&&z(r,ie),(!ee||1&e)&&oe!==(oe=t[0].lastName+"")&&z(a,oe),(!ee||1&e)&&le!==(le=Math.trunc(t[0].speed)+"")&&z(h,le),(!ee||1&e)&&re!==(re=Math.round(100*(t[0].speed-Math.trunc(t[0].speed)))+"")&&z(g,re),(!ee||1&e)&&ce!==(ce=t[0].bikeSettings.bikeWeight+"")&&z(M,ce),(!ee||1&e)&&ae!==(ae=t[0].bikeSettings.wheelsInertia+"")&&z(R,ae),(!ee||1&e)&&ue!==(ue=t[0].bikeSettings.wheelsCircumference+"")&&z(U,ue),(!ee||1&e)&&de!==(de=t[0].bikeSettings.efficiency+"")&&z(X,de),(!ee||1&e)&&fe!==(fe=t[0].bikeSettings.area+"")&&z(it,fe),(!ee||1&e)&&he!==(he=t[0].userSettings.rho+"")&&z(dt,he),(!ee||1&e)&&pe!==(pe=t[0].bikeSettings.cx+"")&&z(bt,pe),(!ee||1&e)&&ge!==(ge=t[0].power+"")&&z(Wt,ge),(!ee||1&e)&&me!==(me=t[0].bikeName+"")&&z(Mt,me),(!ee||1&e)&&$e!==($e=t[0].time+"")&&z(Et,$e),(!ee||1&e)&&ve!==(ve=t[0].date+"")&&z(Pt,ve)},i(t){ee||(ht(Lt.$$.fragment,t),ht(Ft.$$.fragment,t),ht(Yt.$$.fragment,t),ht(Vt.$$.fragment,t),ht(Kt.$$.fragment,t),ht(Xt.$$.fragment,t),ht(te.$$.fragment,t),ee=!0)},o(t){pt(Lt.$$.fragment,t),pt(Ft.$$.fragment,t),pt(Yt.$$.fragment,t),pt(Vt.$$.fragment,t),pt(Kt.$$.fragment,t),pt(Xt.$$.fragment,t),pt(te.$$.fragment,t),ee=!1},d(t){t&&w(e),yt(Lt),yt(Ft),yt(Yt),yt(Vt),yt(Kt),yt(Xt),yt(te),ne=!1,se()}}}const Ds="WHPSC Simulator Result",Rs="Watch my result on WHPSC Simulator";function As(){const t=new URLSearchParams;t.delete("res"),window.history.replaceState({},"",`${location.pathname}?${t}`),window.location.reload()}function Ts(t,e,n){let{resultId:s}=e,i=new un(0,0,new de(0,0,0,0,0,0,void 0),new fe(0,0,0),"","","");const o=window.location.href;return H(()=>{fetch("https://www.policumbent.it/whpsc_sim_backend/results.php",{cache:"no-store"}).then(t=>t.json()).then(t=>{const e=t.find(t=>t.id===s);void 0===e&&As();const o=new de(e.bikeSettings.bikeWeight,e.bikeSettings.wheelsInertia,e.bikeSettings.wheelsCircumference,e.bikeSettings.efficiency,e.bikeSettings.area,e.bikeSettings.cx,void 0),l=new fe(void 0,void 0,e.bikeSettings.rho);n(0,i=new un(e.speed,e.power,o,l,e.bikeName,e.firstName,e.lastName,"",e.timestamp))})}),t.$set=t=>{"resultId"in t&&n(2,s=t.resultId)},[i,o,s]}class Ls extends Ct{constructor(t){super(),_t(this,t,Ts,Ps,r,{resultId:2})}}function Hs(t){let e,n;return e=new Ls({props:{resultId:t[5]}}),{c(){wt(e.$$.fragment)},m(t,s){xt(e,t,s),n=!0},p(t,n){const s={};32&n&&(s.resultId=t[5]),e.$set(s)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){yt(e,t)}}}function Fs(t){let e,n,s,i,o;const l=[Ys,Us],r=[];function c(t,e){return t[2]?0:1}return e=c(t),n=r[e]=l[e](t),i=new ce({props:{$$slots:{default:[Gs]},$$scope:{ctx:t}}}),{c(){n.c(),s=C(),wt(i.$$.fragment)},m(t,n){r[e].m(t,n),b(t,s,n),xt(i,t,n),o=!0},p(t,o){let a=e;e=c(t),e===a?r[e].p(t,o):(dt(),pt(r[a],1,1,()=>{r[a]=null}),ft(),n=r[e],n||(n=r[e]=l[e](t),n.c()),ht(n,1),n.m(s.parentNode,s));const u={};16392&o&&(u.$$scope={dirty:o,ctx:t}),i.$set(u)},i(t){o||(ht(n),ht(i.$$.fragment,t),o=!0)},o(t){pt(n),pt(i.$$.fragment,t),o=!1},d(t){r[e].d(t),t&&w(s),yt(i,t)}}}function Us(e){let n,s,i,o,l,r,c,a,u,d,f,h,p,g,m,$,x;return n=new js({}),n.$on("message",e[7]),o=new qe({props:{subject:Js,body:Ks+" "+e[6]}}),r=new Te({props:{class:"share-button",title:Js,url:e[6]}}),a=new Pe({props:{class:"share-button",url:e[6]}}),d=new Ue({props:{class:"share-button",text:Js,url:e[6]}}),h=new Qe({props:{class:"share-button",text:Js+" "+e[6]}}),g=new Be({props:{class:"share-button",url:e[6]}}),$=new Je({props:{class:"share-button",text:Js,url:e[6]}}),{c(){wt(n.$$.fragment),s=C(),i=y("div"),wt(o.$$.fragment),l=C(),wt(r.$$.fragment),c=C(),wt(a.$$.fragment),u=C(),wt(d.$$.fragment),f=C(),wt(h.$$.fragment),p=C(),wt(g.$$.fragment),m=C(),wt($.$$.fragment),W(i,"class","bottom svelte-198jvas")},m(t,e){xt(n,t,e),b(t,s,e),b(t,i,e),xt(o,i,null),v(i,l),xt(r,i,null),v(i,c),xt(a,i,null),v(i,u),xt(d,i,null),v(i,f),xt(h,i,null),v(i,p),xt(g,i,null),v(i,m),xt($,i,null),x=!0},p:t,i(t){x||(ht(n.$$.fragment,t),ht(o.$$.fragment,t),ht(r.$$.fragment,t),ht(a.$$.fragment,t),ht(d.$$.fragment,t),ht(h.$$.fragment,t),ht(g.$$.fragment,t),ht($.$$.fragment,t),x=!0)},o(t){pt(n.$$.fragment,t),pt(o.$$.fragment,t),pt(r.$$.fragment,t),pt(a.$$.fragment,t),pt(d.$$.fragment,t),pt(h.$$.fragment,t),pt(g.$$.fragment,t),pt($.$$.fragment,t),x=!1},d(t){yt(n,t),t&&w(s),t&&w(i),yt(o),yt(r),yt(a),yt(d),yt(h),yt(g),yt($)}}}function Ys(t){let e,n,s,i,l,r,c,a,u,d=ve();n=new Kt({props:{class:"top-right-fixed",data:Zt,scale:"3"}});let f={power:isNaN(t[0])?0:t[0],bikeSettings:t[4].settings,userSettings:we()};i=new an({props:f}),t[9](i),i.$on("message",t[8]);let h=d&&function(t){let e,n,s,i,l,r,c,a,u;return{c(){e=y("div"),n=y("label"),s=_("Power Debug Slider: "),i=_(t[0]),l=_("W"),r=C(),c=y("input"),W(n,"id","power_debug_label"),W(n,"for","power_debug"),W(n,"class","svelte-198jvas"),W(c,"class","slider svelte-198jvas"),W(c,"id","power_debug"),W(c,"type","range"),W(c,"min","0"),W(c,"max","1000"),W(e,"id","power_debug_div"),W(e,"class","svelte-198jvas")},m(o,d){b(o,e,d),v(e,n),v(n,s),v(n,i),v(n,l),v(e,r),v(e,c),M(c,t[0]),a||(u=[N(c,"change",t[10]),N(c,"input",t[10])],a=!0)},p(t,e){1&e&&z(i,t[0]),1&e&&M(c,t[0])},d(t){t&&w(e),a=!1,o(u)}}}(t);return{c(){e=y("span"),wt(n.$$.fragment),s=C(),wt(i.$$.fragment),l=C(),h&&h.c(),r=S(),W(e,"class","top-right-fixed svelte-198jvas")},m(t,o){b(t,e,o),xt(n,e,null),b(t,s,o),xt(i,t,o),b(t,l,o),h&&h.m(t,o),b(t,r,o),c=!0,a||(u=N(e,"click",Zs),a=!0)},p(t,e){const n={};1&e&&(n.power=isNaN(t[0])?0:t[0]),16&e&&(n.bikeSettings=t[4].settings),i.$set(n),d&&h.p(t,e)},i(t){c||(ht(n.$$.fragment,t),ht(i.$$.fragment,t),c=!0)},o(t){pt(n.$$.fragment,t),pt(i.$$.fragment,t),c=!1},d(o){o&&w(e),yt(n),o&&w(s),t[9](null),yt(i,o),o&&w(l),h&&h.d(o),o&&w(r),a=!1,u()}}}function Gs(t){let e,n,s;function i(e){t[11].call(null,e)}let o={};return void 0!==t[3]&&(o.openModal=t[3]),e=new Os({props:o}),K.push(()=>bt(e,"openModal",i)),{c(){wt(e.$$.fragment)},m(t,n){xt(e,t,n),s=!0},p(t,s){const i={};!n&&8&s&&(n=!0,i.openModal=t[3],nt(()=>n=!1)),e.$set(i)},i(t){s||(ht(e.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),s=!1},d(t){yt(e,t)}}}function Vs(t){let e,n,s,i;const o=[Fs,Hs],l=[];function r(t,e){return null===t[5]?0:1}return n=r(t),s=l[n]=o[n](t),{c(){e=y("main"),s.c(),W(e,"class","svelte-198jvas")},m(t,s){b(t,e,s),l[n].m(e,null),i=!0},p(t,[i]){let c=n;n=r(t),n===c?l[n].p(t,i):(dt(),pt(l[c],1,1,()=>{l[c]=null}),ft(),s=l[n],s||(s=l[n]=o[n](t),s.c()),ht(s,1),s.m(e,null))},i(t){i||(ht(s),i=!0)},o(t){pt(s),i=!1},d(t){t&&w(e),l[n].d()}}}const Js="WHPSC Simulator",Ks="Try a fast streamliner on Battle Mountain track.";function Zs(){document.exitFullscreen()}function Xs(t,e,n){let s,i,o,l=0,r=!1,c=null;const a=window.location.href;ge.subscribe(t=>n(0,l=t));return document.addEventListener("contextmenu",t=>t.preventDefault()),document.addEventListener("fullscreenchange",t=>null===document.fullscreenElement?(n(2,r=!1),void window.document.body.classList.toggle("dark-mode")):t),H(()=>{const t=new URLSearchParams(window.location.search);console.log(t.get("res")),n(5,c=t.get("res"))}),[l,s,r,i,o,c,a,function(t){n(4,o=t.detail.text),console.log("START",o),document.documentElement.requestFullscreen().then(()=>{n(2,r=!0),window.document.body.classList.toggle("dark-mode")}).catch(t=>console.log(t))},function(t){console.log("HANDLE",o.settings),console.log(t.detail.text),void 0!==t.detail.text&&Zs();const e=void 0!==t.detail.text?t.detail.text.speed:141,n=void 0!==t.detail.text?t.detail.text.power:0;i(e,n,o.bikeName,o.settings,we())},function(t){K[t?"unshift":"push"](()=>{s=t,n(1,s)})},function(){l=I(this.value),n(0,l)},function(t){i=t,n(3,i)}]}return new class extends Ct{constructor(t){super(),_t(this,t,Xs,Vs,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
